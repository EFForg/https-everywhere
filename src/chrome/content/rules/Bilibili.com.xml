<!--
	Relate ruleset:
		BiliGame.xml

	CORS:
		- www.bilibili.com
			( test: https://bangumi.bilibili.com/22/ Could not get the error every time. )
		- api.bilibili.com
			( test: http://h.bilibili.com/dy\d+ )
		- comment.bilibili.com
			( test: https://www.bilibili.com/video/av\d+/ )
		- data.bilibili.com
			( test: http://h.bilibili.com/dy\d+ or http://bml.bilibili.com/index2016/ )

	MCB:
		- app.bilibili.com
		- bangumi.bilibili.com
		- bmall.bilibili.com	( css from static.hdslb.com , seems no Broken.)
		- bml.bilibili.com
		- h.bilibili.com
		- search.bilibili.com

	Mismatch:
		- ^bilibili.com
		- live-api.bilibili.com
		- yoo.bilibili.com

	Redirect to http:
		- live.bilibili.com
-->

<ruleset name="Bilibili.com (partial)">

	<!--	CORS:	-->
	<target host="www.bilibili.com" />
		<exclusion pattern="^http://www\.bilibili\.com/index/index-icon\.json" />
		<exclusion pattern="^http://www\.bilibili\.com/widget/getSearchDefaultWords" />
		<test url="http://www.bilibili.com/index/index-icon.json" />
		<test url="http://www.bilibili.com/widget/getSearchDefaultWords" />

	<target host="api.bilibili.com" />
		<exclusion pattern="^http://api\.bilibili\.com/$" />
		<exclusion pattern="^http://api\.bilibili\.com/x/reply\?jsonp=jsonp" />
		<test url="http://api.bilibili.com/x/reply?jsonp=jsonp&#x26;oid=190003&#x26;type=3" />
		<test url="http://api.bilibili.com/x/reply?jsonp=jsonp&#x26;oid=191437&#x26;type=3" />
		<test url="http://api.bilibili.com/x/web-show/res/loc?pf=0&#x26;id=142" />

	<target host="comment.bilibili.com" />
		<exclusion pattern="^http://comment\.bilibili\.com/cloud/filter/" />
		<test url="http://comment.bilibili.com/cloud/filter/5000000.json" />
		<test url="http://comment.bilibili.com/11998315.xml" />

	<target host="data.bilibili.com" />
		<exclusion pattern="^http://data\.bilibili\.com/$" />
		<exclusion pattern="^http://data\.bilibili\.com/e/p" />
		<exclusion pattern="^http://data\.bilibili\.com/v/web/" />
		<test url="http://data.bilibili.com/a/access.js" />
		<test url="http://data.bilibili.com/e/p" />
		<test url="http://data.bilibili.com/v/web/live_web_statistics?mid=698051" />
		<test url="http://data.bilibili.com/v/web/web_page_view?mid=698051" />

	<!--	MCB:	-->
	<target host="app.bilibili.com" />
		<exclusion pattern="^http://app\.bilibili\.com/(?!images/)" />
		<test url="http://app.bilibili.com/images/android.html" />

		<test url="http://app.bilibili.com/mobile/android.html" />

	<target host="bangumi.bilibili.com" />
		<exclusion pattern="^http://bangumi\.bilibili\.com/moe/2016/" />
		<test url="http://bangumi.bilibili.com/sponsor/rankweb/get_sponsor_week_list" />
		<test url="http://bangumi.bilibili.com/web_api/user_area" />
		<test url="http://bangumi.bilibili.com/22/" />
		<test url="http://bangumi.bilibili.com/anime/1111" />

		<test url="http://bangumi.bilibili.com/moe/2016/jp/index" />
		<test url="http://bangumi.bilibili.com/moe/2016/jp/character/list" />

	<target host="bml.bilibili.com" />
		<exclusion pattern="^http://bml\.bilibili\.com/(?!bml_intro)" />
		<test url="http://bml.bilibili.com/bml_intro" />
		<test url="http://bml.bilibili.com/bml_intro?bid=13" />

		<test url="http://bml.bilibili.com/index2016/" />
		<test url="http://bml.bilibili.com/micro2015/" />

	<target host="h.bilibili.com" />
		<exclusion pattern="^http://h\.bilibili\.com/(?!css/|js/|images/|img/)" />
		<test url="http://h.bilibili.com/css/draw_yoo.css" />
		<test url="http://h.bilibili.com/js/picwall.js" />
		<test url="http://h.bilibili.com/images/ra.js" />
		<test url="http://h.bilibili.com/img/Icons2.png" />

		<test url="http://h.bilibili.com/nav.js" />
		<test url="http://h.bilibili.com/dy190003" />
		<test url="http://h.bilibili.com/dy191437" />
		<test url="http://h.bilibili.com/index/pic_banner.json" />
		<test url="http://h.bilibili.com/login" />
		<test url="http://h.bilibili.com/member?mod=addbanner&#x26;id=41" />

	<!--	Directly:	-->
	<target host="account.bilibili.com" />
		<test url="http://account.bilibili.com/site/nameplate.html" />
	<target host="big.bilibili.com" />
	<target host="bmall.bilibili.com" />
	<target host="game.bilibili.com" />
	<target host="interface.bilibili.com" />
		<test url="http://interface.bilibili.com/msg.xml" />
	<target host="api.live.bilibili.com" />
	<target host="live-feed.bilibili.com" />
	<target host="live-trace.bilibili.com" />
	<target host="message.bilibili.com" />
	<target host="news.bilibili.com" />
	<target host="pay.bilibili.com" />
	<target host="passport.bilibili.com" />
	<target host="planet2017.bilibili.com" />
	<target host="space.bilibili.com" />
	<target host="static-s.bilibili.com" />
	<target host="zb.bilibili.com" />

	<rule from="^http:" to="https:" />
</ruleset>
