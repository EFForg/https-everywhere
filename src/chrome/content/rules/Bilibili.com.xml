<!--
	Mismatch
		- ^	
	Different than http
		- game
		- h
		- live
		- message
		- news
		- search
		- space
		- yoo
	MCB:
		- app
		- bangumi
		- passport	( https://github.com/EFForg/https-everywhere/pull/7495#discussion_r87688278 )
		- pay	( Mixed js, but seems no broken. )
		- www
-->

<ruleset name="Bilibili.com (partial)">

	<!--	Directly:	-->
	<target host="account.bilibili.com" />
		<test url="http://account.bilibili.com/site/nameplate.html" />
	<target host="bml.bilibili.com" />
		<test url="http://bml.bilibili.com/bml_intro?bid=13" />
	<target host="comment.bilibili.com" />
		<test url="http://comment.bilibili.com/11998315.xml" />
	<target host="interface.bilibili.com" />
		<test url="http://interface.bilibili.com/msg.xml" />
	<target host="passport.bilibili.com" />
	<target host="pay.bilibili.com" />
	<target host="static-s.bilibili.com" />

	<!--	Complication:	-->
	<target host="api.bilibili.com" />
		<exclusion pattern="^http://api\.bilibili\.com/$" />
		<test url="http://api.bilibili.com/x/web-show/res/loc?pf=0&#x26;id=142" />

	<target host="bangumi.bilibili.com" />
		<exclusion pattern="^http://bangumi\.bilibili\.com/(?!index/|sponsor/|web_api/)" />
		<test url="http://bangumi.bilibili.com/index/ding-count.json" />
		<test url="http://bangumi.bilibili.com/sponsor/rankweb/get_sponsor_week_list" />
		<test url="http://bangumi.bilibili.com/web_api/user_area" />

		<test url="http://bangumi.bilibili.com/22/" />
		<test url="http://bangumi.bilibili.com/anime/1111" />
		<test url="http://bangumi.bilibili.com/moe/2016/jp/index" />

	<target host="data.bilibili.com" />
		<exclusion pattern="^http://data\.bilibili\.com/$" />
		<test url="http://data.bilibili.com/a/access.js" />

	<target host="www.bilibili.com" />
		<exclusion pattern="^http://www\.bilibili\.com/(?!online\.js|widget/)" />
		<test url="http://www.bilibili.com/online.js" />
		<test url="http://www.bilibili.com/widget/getSearchDefaultWords" />

		<test url="http://www.bilibili.com/html/help.html#p" />
		<test url="http://www.bilibili.com/video/av7328552/" />

	<rule from="^http:" to="https:" />
</ruleset>
