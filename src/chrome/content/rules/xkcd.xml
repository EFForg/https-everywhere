<!--
	store-xkcd-com.myshopify.com


	Nonfunctional xkcd.com subdomains:

		- blag *
		- blog *
		- es *
		- fora *
		- forums *
		- wiki *

	* Refused


	Problematic domains:

		- imgs.xkcd.com ¹
		- (www.)store.xkcd.com		(redirects to http; mismatched, CN: *.myshopify.com)
		- (www.)xkcd.org *
		- m.xkcd.org *

	¹ 404; mismatched, CN: *.voxcdn.com
	* Works; mismatched, CN: *.xkcd.com


	Fully covered domains:

		- xkcd.com subdomains:

			- (www.)
			- 3d
			- c0
			- dynamic
			- imgs		(→ sslimgs)
			- m
			- sslimgs
			- (www.)store	(→ store-xkcd-com.myshopify.com)
			- whatif
			- what-if

		- (www.)xkcd.org	(→ xkcd.com)
		- m.xkcd.org		(→ m.xkcd.com)


	Mixed content:
		
		- Javascript
			- uni trips on ajax.googleapis.com ** (See xkcd-mixed.xml)

		- Images, on:

			- ^ from imgs *
			- m from imgs *

	* Secured by us, doesn't trip MCB
	** Secured by us, *does* trip MCB

-->
<ruleset name="xkcd">

	<target host="xkcd.com" />
	<target host="xkcd.org" />
	<target host="*.xkcd.com" />
	<target host="*.xkcd.org" />


	<rule from="^http://(www\.|m\.)?xkcd\.(?:com|org)/"
		to="https://$1xkcd.com/" />

	<rule from="^http://(3d|c0|dynamic|sslimgs|what-?if)\.xkcd\.com/"
        to="https://$1.xkcd.com/" />

	<rule from="^http://imgs\.xkcd\.com/"
		to="https://sslimgs.xkcd.com/" />

	<rule from="^http://(?:www\.)?store\.xkcd\.com/"
		to="https://store-xkcd-com.myshopify.com/" />

</ruleset>
