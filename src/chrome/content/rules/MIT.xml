<!--
	Massachusetts Institute of Technology

	For rules with complex rewrites, see MIT-complex.xml.
	For rules causing false/broken MCB, see MIT.edu-falsemixed.xml.
	For problematic rules, see MIT-mismatches.xml.

	Other MIT rulesets:
		+ MIT_Press_Journals.org.xml
		+ TechnologyReview.xml
		+ technologyreview.in.xml
		+ Touchstone_Network.xml

	Nonfunctional hosts:
		- alloy ¹
		- appinventor ³
		- ai2.appinventor ⁵
		- arts ²
		- artscal ³
		- calendars (redirects to HTTP)
		- cesf ²
		- classics ⁴
		- cmsw ⁷
		- connect ³
		- bigdata.csail ⁵
		- inquir.csail ⁵
		- nms.csail ²
		- publications.csail ⁵
		- research.csail ⁵
		- tig.csail ⁵
		- wireless.csail ⁵
		- development ⁵
		- eaps4 ³
		- economics ²
		- events ⁶
		- executive
		- gambit ⁷
		- global	(Redirects to wayf.mit.edu)
		- img ⁸
		- ki ⁵
		- lsc ⁵
		- atlas.media ³
		- macroconnections.media	(Shows blank tree)
		- pantheon.media ²
		- pulse.media ³
		- tangible.media ²
		- web.media
		- mitworld ²
		- mvl ⁹
		- oastories ²
		- ocw ᵃ
		- sap		(Plaintext reply)
		- sloanreview ²
		- ssg ᶜ
		- student ᵈ
		- tech ⁴
		- the-tech ⁴
		- video ²
		- webcast	(Shows RHEL test page)
		- xvm ⁵
		- websis ᶠ

	¹ Shows projects.csail
	² Refused
	³ Times out
	⁴ 401
	⁵ Handshake fails
	⁶ Interrupted
	⁷ Shows default page
	⁸ Shows web
	⁹ 403
	ᵃ 503
	ᵇ 400
	ᶜ Shows lids
	ᵈ Redirects to idp
	ᶠ Shows student

	Problematic hosts in *mit.edu:
		- ^ *
		- www *
		- advancedligo ᶜ ᵐ
		- www.advancedligo ᶜ
		- calendar ²
		- counter ¹
		- csail ³
		- css.csail ᶜ
		- people.csail	($ 403s)
		- cluedumps ⁴
		- diversity ⁴
		- apply.eecs ²
		- eecs-search.eecs ᶜ
		- eecscal	(404)
		- events ³
		- executive	(Mismatched, CN: cms.executive.mit.edu)
		- cdn.executive	(Cloudfront)
		- hacks ⁴
		- iceo ⁴
		- iceoblog ⁴
		- ideabank ⁵
		- itinfo ⁶
		- libguides	(LibGuides.com/mismatched)
		- media		(Cert only matches *.media)
		- mitei-members ᵐ
		- mitsloan ᶜ
		- oeit-tsa ¹
		- tmg-trackr.media ² ᵐ **
		- pdos.csail
		- mlkscholars ⁴
		- president	(Mixed iframe)
		- reap ᶜ
		- resources	(Mixed iframe)
		- sdm-admissions ᶜ
		- shass		(Configured for SSL3 only)
		- reap ᶜ
		- relate ¹
		- techblogs ⁷
		- techtime ⁸
		- tgcat ¹ ²
		- web *
		- webmail ᶜ

	* "client certificate was invalid or not provided"
	** Some paths 404
	¹ Self-signed
	² Expired
	³ Handshake fails
	⁴ Mismatched, CN: *.scripts.mit.edu
	⁵ Mismatched, CN: future.mit.edu
	⁶ Redirects to ist
	⁷ $ works, at least some pages 404, expired, self-signed
	⁸ Mismatched, CN: calendar.mit.edu
	ᶜ Server sends no certificate chain, see https://whatsmychaincert.com
	ᵐ Mismatched
-->

<ruleset name="MIT.edu (partial)">
	<target host="3down.mit.edu" />
	<target host="alum.mit.edu" />
	<target host="alumsso.mit.edu" />
	<target host="athena10.mit.edu" />
	<target host="blossoms.mit.edu" />
	<target host="ca.mit.edu" />
	<target host="calendar.mit.edu" />
	<target host="chemefacsrch.mit.edu" />
	<target host="civic.mit.edu" />
	<target host="connect.mit.edu" />
	<target host="csail.mit.edu" />
	<target host="people.csail.mit.edu" />
	<target host="eecscal.mit.edu" />
	<target host="energy.mit.edu" />
	<target host="executive.mit.edu" />
	<target host="cdn.executive.mit.edu" />
	<target host="calendar.csail.mit.edu" />
	<target host="cap.csail.mit.edu" />
	<target host="groups.csail.mit.edu" />
	<target host="pdos.csail.mit.edu" />
	<target host="projects.csail.mit.edu" />
	<target host="www.csail.mit.edu" />
	<target host="dc.mit.edu" />
	<target host="debathena.mit.edu" />
	<target host="athena.dialup.mit.edu" />
	<target host="dome.mit.edu" />
	<target host="dspace.mit.edu" />
	<target host="eecs.mit.edu" />
	<target host="www.eecs.mit.edu" />
	<target host="engineering.mit.edu" />
	<target host="esd.mit.edu" />
	<target host="cms.executive.mit.edu" />
	<target host="future.mit.edu" />
	<target host="giving.mit.edu" />
	<target host="gsc.mit.edu" />
	<target host="iceoblog.mit.edu" />
	<target host="ideabank.mit.edu" />
	<target host="idm.mit.edu" />
	<target host="idp.mit.edu" />
	<target host="innovation.mit.edu" />
	<target host="ist.mit.edu" />
	<target host="kb.mit.edu" />
	<target host="lgo.mit.edu" />
	<target host="lgosdm.mit.edu" />
	<target host="libguides.mit.edu" />
	<target host="libraries.mit.edu" />
	<target host="library.mit.edu" />
	<target host="lids.mit.edu" />
	<target host="linc.mit.edu" />
	<target host="listart.mit.edu" />
	<target host="llwebprod2.ll.mit.edu" />
	<target host="www.ll.mit.edu" />
	<target host="immersion.media.mit.edu" />
	<target host="www.media.mit.edu" />
	<target host="media.mit.edu" />
	<target host="mit-amps.mit.edu" />
	<target host="mit150.mit.edu" />
	<target host="mitei.mit.edu" />
	<target host="mitpress.mit.edu" />
	<target host="www.mitpress.mit.edu" />
	<target host="mitstory.mit.edu" />
	<target host="mosh.mit.edu" />
	<target host="mysloan.mit.edu" />
	<target host="news.mit.edu" />
	<target host="newsoffice.mit.edu" />
	<target host="www.newsoffice.mit.edu" />
	<target host="oastats.mit.edu" />
	<target host="odge.mit.edu" />
	<target host="odl.mit.edu" />
	<target host="openafs.mit.edu" />
	<target host="orgchart.mit.edu" />
	<target host="pgp.mit.edu" />
	<target host="picker.mit.edu" />
	<target host="school-of-engineering-faculty-search.mit.edu" />
	<target host="scratch.mit.edu" />
	<target host="api.scratch.mit.edu" />
	<target host="www.scratch.mit.edu" />
	<target host="scripts.mit.edu" />
	<target host="www.scripts.mit.edu" />
	<target host="zyan.scripts.mit.edu" />
	<target host="sdm.mit.edu" />
	<target host="sipb.mit.edu" />
	<target host="slice.mit.edu" />
	<target host="shop.sloanreview.mit.edu" />
	<target host="subscribe.sloanreview.mit.edu" />
	<target host="stellar.mit.edu" />
	<target host="stuff.mit.edu" />
	<target host="teachingexcellence.mit.edu" />
	<target host="techtv.mit.edu" />
	<target host="tll.mit.edu" />
	<target host="wayf.mit.edu" />
	<target host="webmail.mit.edu" />
	<target host="whereis.mit.edu" />
	<target host="wikis.mit.edu" />

	<securecookie host="^(?!calendars\.mit\.edu$)\w" name=".+" />
	<securecookie host="^\." name="^__utm" />

	<rule from="^http://csail\.mit\.edu/" to="https://www.csail.mit.edu/" />

	<!-- Redirect keeps args but not forward slash: -->
	<rule from="^http://people\.csail\.mit\.edu/+(?:\?.*)?$" to="https://www.csail.mit.edu/peoplesearch" />

	<test url="http://people.csail.mit.edu/?a" />
	<test url="http://people.csail.mit.edu/?b" />
	<test url="http://people.csail.mit.edu/?c" />
	<test url="http://people.csail.mit.edu/?d" />
	<test url="http://people.csail.mit.edu//?a" />
	<test url="http://people.csail.mit.edu//?b" />
	<test url="http://people.csail.mit.edu//?c" />
	<test url="http://people.csail.mit.edu//?d" />

	<!-- Redirect drops path and args: -->
	<rule from="^http://eecscal\.mit\.edu/.*" to="https://calendars.mit.edu/eecs" />

	<test url="http://eecscal.mit.edu/home.php" />

	<rule from="^http://cdn\.executive\.mit\.edu/" to="https://d3f3qxt87iw6id.cloudfront.net/" />

	<rule from="^http://ideabank\.mit\.edu/" to="https://future.mit.edu/" />

	<rule from="^http://www\.mitpress\.mit\.edu/" to="https://mitpress.mit.edu/" />

	<rule from="^http://media\.mit\.edu/" to="https://www.media.mit.edu/" />

	<rule from="^http://scripts\.mit\.edu:444/" to="https://scripts.mit.edu:444/" />

	<test url="http://scripts.mit.edu:444/" />

	<rule from="^http:" to="https:" />
</ruleset>
