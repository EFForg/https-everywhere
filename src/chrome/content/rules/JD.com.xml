<!--

	Other Jingdong Mall rulesets:

		- 3.cn.xml
		- 360buy.com.xml
		- 360buyimg.com.xml
		- Jcloud.com.xml
		- JD.hk.xml

	Nonfunctional hosts in *jd.com:

		- appengine ⁴
		- bbs ¹
		- boss ³
		- car ¹
		- comix ¹
		- cps ⁴
		- cups ¹
		- order.en ¹
		- passport.en ¹
		- st.en ²
		- c.fa ¹
		- fashion ¹
		- giftcard ⁴
		- jae ³
		- maengine ³
		- tesedao ¹
		- wei ⁵
		- ximiyundong ¹
		- zone ³
		- bbs.zone ³
		- learn.zone ³

	⁴ Dropped
	¹ Refused
	² 404
	³ Redirects to www.jcloud.com
	⁵ Reset


	Problematic hosts in *jd.com:
		
		- apismart (404)
		- licai.bx *
		- chat2 ³
		- cread.e *
		- fashion *
		- gongyi ⁴
		- ir *
		- misc.jzt *
		- click.union *
		- ccc.x *

	¹ Mixed css
	* Mismatched
	³ Weak DHE key
	⁴ Mixed flash
	⁵ Mixed iframe


	Insecure cookies are set for these domains and hosts:

		- .jd.com
		- auction.jd.com
		- fw.jd.com
		- jzt.jd.com
		- mall.jd.com
		- media.jd.com
		- .movie.jd.com
		- passport.jd.com
		- reg.jd.com
		- .search.jd.com
		- xjzt.jd.com
		- zhaopin.jd.com


	Mixed content:
	
		- reg.jd.com/reg/$
		
		- Flash on gongyi from player.youku.com

		- Images, on:

			- baby, china from tp4.sinaimg.cn *
			- jzt from misc.jzt.jd.com
			- me from storage.jd.com *
			- safe from authcode.jd.com *

		- Bugs, on:

			- baby, china, gongyi, shouji from widget.weibo.com *
			- tuan from x.jd.com *
			- zx from wpa.qq.com

	* Secured by us

	Redirect to www.jd.com :
		- item.jd.com/$

	Too many redirects:
		- ^
		- ccc
		- group
		- huishou
		- list
		- market
		- mine
		- sale
		- sq
		- storage
		- www
		- x

-->

<ruleset name="JD.com (partial)">

	<!--	Complication	-->
	
	<target host="*.jd.com" />

<!--	Too many redirects:
	<rule from="^http://(www\.)?jd\.com/"
		to="https://www.jd.com/" />
		<test url="http://jd.com/" />
		<test url="http://www.jd.com/" />

	<rule from="^http://channel\.jd\.com/(.+)\.html"
		to="https://channel.jd.com/$1.html" />
		<test url="http://channel.jd.com/fashion.html" />
		<test url="http://channel.jd.com/electronic.htmlv" />
-->

	<rule from="^http://acsten\.jd\.com/"
		to="https://acsten.jd.com/" />
		<exclusion pattern="^http://acsten.jd.com/$" />
		<test url="http://acsten.jd.com/" />
		<test url="http://acsten.jd.com/static/brands/puppyoo/en/bg_521_01.jpg" />

	<rule from="^http://authcode\.jd\.com/verify/image"
		to="https://authcode.jd.com/verify/image" />
		<test url="http://authcode.jd.com/verify/image?a=1&amp;acid=46e37f33-c280-410f-822e-3295caae06fd&amp;uid=46e37f33-c280-410f-822e-3295caae06fd&amp;yys=1425883312677" />

	<rule from="^http://c-nfa\.jd\.com/.+&amp;url=//(.+)/"
		to="https://$1/" />
		<test url="http://c-nfa.jd.com/adclick?keyStr=z5AXFoIimt1jiDK32+w4mfTFZtF1YOC+opB7Ao37jUjDSR4ZkhdprAyoH1hPJzIvYIvzFrd2TCsHa9MPtmJJ38/q5Qih+7c1BDeh8zmM5DtHWmoByPeXmwN+vPPmAue8nPRVaxDTMvb4FGTgPthakqmhEn5VjYb//IDriB1m2VsGNejglATI3rYKcJNNinLWO8kB+sSzSS0dWVpqx287jLMnQRjLX8LeruC5DQu2wwDKXBn/4XyfZBkqZDvr0dRqsYAhmxRmBoISpVNFyZRXL4a+892nOos/0aSRnf6vbMmf9HLeDipRHAKm4vcfN+U1KKFU6qVYkYEbrR18iEkgIA==&amp;cv=2.0&amp;url=//sale.jd.com/act/o1Yagd0IiDNGc.html" />
		<test url="http://c-nfa.jd.com/adclick?keyStr=z5AXFoIimt1jiDK32+w4mT1nRnpFpAizF+5WhO0AHkwztMovE9R5AVbwwls8hQ5kPIi3cMEhhoV6ooyGp0aJkRpamRD4zxoXfKU1fYn2dDNa4eG9P+LQ+i7XDdn0nvJzLUHKRy5AMBHgXaliXNh0TR/99MUGL/DAI9QQrj/aPDO+rjt+wmNBqathelSaHUsWvi3DP9vR6BVkUfiEtycMxl/Qae9xh2e/T9YWCueIsatyVMmKJ+LujoLlfkmAfmKTYpUboR8ciyR5H4ne31buZoYjevjHNvGqTDM3fonDawQ=&amp;cv=2.0&amp;url=//zbird.jd.com/" />
		<test url="http://c-nfa.jd.com/adclick?keyStr=6PQwtwh0f06syGHwQVvRO5ztV98xI1kb04VWxj27qyHhTr8/YivtDmYW6ZcIZV4BhtMfyzQy3d2vyFSlAb5kvHrWjH42RUbxLhwOK41QshZHWmoByPeXmwN+vPPmAue8mmUBBv3jNBcx2P/iDtTmlnWDS2AWBitvTotLMyrh0gWj/QmG6Hzf2c4HDr/5L48+9tBUiEEIuYKGXbq9vzM2Lqy/C1Kvp7QdX/NpCflYIjVCh34pjEI9yMOFfVGi4Ym9ZZfyyAExFGwJ/7N9isOCE/th/T/WZaFB38TA49bffI3pjvqkRSOdaFeco1V1km9VcJnJ8/i4ypiBDe/7mST+Nw7Yv1DRlzva1IPuVpLUl/CoIYJKTBYHRRkT9yWbX5d8&amp;cv=2.0&amp;url=//search.jd.hk/Search?keyword=%E7%A2%A7%E7%84%B6%E5%BE%B7&amp;enc=utf-" />
			
	<rule from="^http://ccc\.jd\.com/"
		to="https://ccc.jd.com/" />
		<exclusion pattern="^http://ccc.jd.com/$" />
		<test url="http://ccc.jd.com/" />
		<test url="http://ccc.jd.com/cookie_check" />

	<rule from="^http://item\.jd\.com/(.+)\.html"
		to="https://item.jd.com/$1.html" />
		<test url="http://item.jd.com/849719.html" />
		<test url="http://item.jd.com/1856588.html" />

	<rule from="^http://list\.jd\.com/(\d+)-(\d+)-(\d+)\.html"
		to="https://list.jd.com/list.html?cat=$1,$2,$3" />
		<test url="http://list.jd.com/652-654-831.html" />
		<test url="http://list.jd.com/670-671-672.html" />

	<rule from="^http://list\.jd\.com/list\.html\?cat="
		to="https://list.jd.com/list.html" />
		<test url="http://list.jd.com/list.html?cat=652,654,831" />
		<test url="http://list.jd.com/list.html?cat=670,671,672" />

	<rule from="^http://passport\.jd\.com/(relay|new|paipai|uc)/"
		to="https://passport.jd.com/$1/" />
	<test url="http://passport.jd.com/relay/loginRelay.htm" />
	<test url="http://passport.jd.com/new/login.aspx" />
	<test url="http://passport.jd.com/paipai/login?token=cd78e4a78a25b0b5b0e34dd2be9661d3ac6ca47b2d76d87890d4297b07f7ff35a7993cec1bb6fdef5907b3390fd75812" />
	<test url="http://passport.jd.com/uc/login" />

	<rule from="^http://sale\.jd\.com/(act|app\/act|m\/act|wq\/act|mall)/(\w+)\.html"
		to="https://sale.jd.com/$1/$2.html" />
		<test url="http://sale.jd.com/act/2jXYua5KQMmci.html" />
		<test url="http://sale.jd.com/act/AcTvhYHdpLOI.html" />
		<test url="http://sale.jd.com/app/act/4KgIHXnAepzE5.html" />
		<test url="http://sale.jd.com/m/act/L1Y2V6ERZePab4.html" />
		<test url="http://sale.jd.com/wq/act/AoasEIgDXM.html" />
		<test url="http://sale.jd.com/mall/2Gl1cBViAsHo.html" />
		
	<!--	Directly	-->

	<target host="7gege.jd.com" />
	<target host="8.jd.com" />
	<target host="acen.jd.com" />
	<target host="act-jshop.jd.com" />
	<target host="anhui.jd.com" />
	<target host="api-gemini.jd.com" />
	<target host="app.jd.com" />
	<target host="asus.jd.com" />
	<target host="auction.jd.com" />
	<target host="autorank.jd.com" />
	<target host="b.jd.com" />
	<target host="baby.jd.com" />
	<target host="baina.jd.com" />
	<target host="baitiao.jd.com" />
	<target host="bangong.jd.com" />
	<target host="bao.jd.com" />
	<target host="bk.jd.com" />
	<target host="book.jd.com" />
	<target host="brand.jd.com" />
	<target host="caimi.jd.com" />
	<target host="caipiao.jd.com" />
	<target host="card.jd.com" />
	<target host="cart.jd.com" />
	<target host="cfx.jd.com" />
	<target host="chat.jd.com" />
	<target host="china.jd.com" />
	<target host="chongzhi.jd.com" />
	<target host="club.jd.com" />
	<target host="code.jd.com" />
	<target host="comix.jd.com" />
	<target host="csc.jd.com" />
	<target host="cscssl.jd.com" />
	<target host="ct.jd.com" />
	<target host="cun.jd.com" />
	<target host="d.jd.com" />
	<target host="data.jd.com" />
	<target host="dapeigou.jd.com" />
	<target host="dcrz.jd.com" />
	<target host="deli.jd.com" />
	<target host="dev.jd.com" />
	<target host="devsmart.jd.com" />
	<target host="diannao.jd.com" />
	<target host="diy.jd.com" />
	<target host="dj.jd.com" />
	<target host="dl-jzt.jd.com" />
	<target host="dltcg.jd.com" />
	<target host="dongdong.jd.com" />
	<target host="dongguan.jd.com" />
	<target host="dujia.jd.com" />
	<target host="e.jd.com" />
	<target host="en.jd.com" />
	<target host="epson.jd.com" />
	<target host="fuwu.jd.com" />
	<target host="fw.jd.com" />
	<target host="fws.jd.com" />
	<target host="game.jd.com" />
	<target host="gb.jd.com" />
	<target host="gift.jd.com" />
	<target host="go.jd.com" />
	<target host="gupiao.jd.com" />
	<target host="hebeiguan.jd.com" />
	<target host="help.jd.com" />
	<target host="home.jd.com" />
	<target host="hotel.jd.com" />
	<target host="huan.jd.com" />
	<target host="huilang.jd.com" />
	<target host="i.jd.com" />
	<target host="im.jd.com" />
	<target host="isale.jd.com" />
	<target host="ishanghai.jd.com" />
	<target host="itzl.jd.com" />
	<target host="jcm.jd.com" />
	<target host="jd2008.jd.com" />
	<target host="jdamii.jd.com" />
	<target host="jdc.jd.com" />
	<target host="jdj.jd.com" />
	<target host="jiangxi.jd.com" />
	<target host="jiaofei.jd.com" />
	<target host="jingzhi.jd.com" />
	<target host="jipiao.jd.com" />
	<target host="jmall.jd.com" />
	<target host="jmgo.jd.com" />
	<target host="jockey.jd.com" />
	<target host="jos.jd.com" />
	<target host="jr.jd.com" />
	<target host="js-sc.jd.com" />
	<target host="club.jr.jd.com" />
	<target host="list.jr.jd.com" />
	<target host="trade.jr.jd.com" />
	<target host="jrb2b.jd.com" />
	<target host="jrclick.jd.com" />
	<target host="jzt.jd.com" />
	<target host="kunming.jd.com" />
	<target host="licai.jd.com" />
	<target host="liuliang.jd.com" />
	<target host="loan.jd.com" />
	<target host="h5.m.jd.com" />
	<target host="portal.m.jd.com" />
	<target host="mall.jd.com" />
	<target host="me.jd.com" />
	<target host="media.jd.com" />
	<target host="meeting.jd.com" />
	<target host="menpiao.jd.com" />
	<target host="mercury.jd.com" />
	<target host="mice.jd.com" />
	<target host="mobile.jd.com" />
	<target host="movie.jd.com" />
	<target host="music.jd.com" />
	<target host="mvd.jd.com" />
	<target host="myjd.jd.com" />
	<target host="mymoney.jd.com" />
	<target host="neimenggu.jd.com" />
	<target host="nfa.jd.com" />
	<target host="new.jd.com" />
	<target host="nj.jd.com" />
	<target host="o.jd.com" />
	<target host="oauth.jd.com" />
	<target host="order.jd.com" />
	<target host="parker.jd.com" />
	<target host="payrisk.jd.com" />
	<target host="piao.jd.com" />
	<target host="peijian.jd.com" />
	<target host="psfw.jd.com" />
	<target host="quant.jd.com" />
	<target host="re.jd.com" />
	<target host="read.jd.com" />
	<target host="reg-en.jd.com" />
	<target host="s.jd.com" />
	<target host="search.jd.com" />
	<target host="selected.jd.com" />
	<target host="shuma.jd.com" />
	<target host="shouji.jd.com" />
	<target host="smart.jd.com" />
	<target host="smarthome.jd.com" />
	<target host="sp.jd.com" />
	<target host="sso.jd.com" />
	<target host="st-en.jd.com" />
	<target host="sunwood.jd.com" />
	<target host="t.jd.com" />
	<target host="tangzhuang.jd.com" />
	<target host="train.jd.com" />
	<target host="trip.jd.com" />
	<target host="try.jd.com" />
	<target host="try-smart.jd.com" />
	<target host="tuan.jd.com" />
	<target host="vc.jd.com" />
	<target host="vcp.jd.com" />
	<target host="vip.jd.com" />
	<target host="visa.jd.com" />
	<target host="wan.jd.com" />
	<target host="weike.jd.com" />
	<target host="what.jd.com" />
	<target host="wl.jd.com" />
	<target host="xinghe.jd.com" />
	<target host="xiongdi.jd.com" />
	<target host="xjzt.jd.com" />
	<target host="xuan.jd.com" />
	<target host="y.jd.com" />
	<target host="yangzhou.jd.com" />
	<target host="youlun.jd.com" />
	<target host="yushou.jd.com" />
	<target host="z.jd.com" />
	<target host="zan.jd.com" />
	<target host="zbbs.jd.com" />
	<target host="zbird.jd.com" />
	<target host="zhaopin.jd.com" />
	<target host="zmeit.jd.com" />
	<target host="zuche.jd.com" />
	<target host="zx.jd.com" />

	<rule from="^http:" to="https:" />

</ruleset>
