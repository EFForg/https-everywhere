<!--
Disabled by https-everywhere-checker because:
Fetch error: http://a4.ucsd.edu/ => https://a4.ucsd.edu/: (28, 'Connection timed out after 10001 milliseconds')
Fetch error: http://altng.ucsd.edu/ => https://altng.ucsd.edu/: (28, 'Connection timed out after 10000 milliseconds')
Non-2xx HTTP code: http://aventeur.ucsd.edu/ (200) => https://aventeur.ucsd.edu/ (500)
Fetch error: http://graduateapp.ucsd.edu/ => https://graduateapp.ucsd.edu/: (51, "SSL: no alternative certificate subject name matches target host name 'graduateapp.ucsd.edu'")
Fetch error: http://jacobsstudent.ucsd.edu/ => https://jacobsstudent.ucsd.edu/: (60, 'SSL certificate problem: unable to get local issuer certificate')
Fetch error: http://ucsdbkst.ucsd.edu/ => https://ucsdbkst.ucsd.edu/: (35, 'error:1408F119:SSL routines:SSL3_GET_RECORD:decryption failed or bad record mac')
Fetch error: http://bookstore.ucsd.edu/ => https://bookstore.ucsd.edu/: (60, 'SSL certificate problem: certificate has expired')
Fetch error: http://www.bookstore.ucsd.edu/ => https://bookstore.ucsd.edu/: (60, 'SSL certificate problem: certificate has expired')
Fetch error: http://ece.ucsd.edu/ => https://ece.ucsd.edu/: Cycle detected - URL already encountered: https://www.ece.ucsd.edu/
Fetch error: http://www.ece.ucsd.edu/ => https://www.ece.ucsd.edu/: Cycle detected - URL already encountered: https://www.ece.ucsd.edu/
Fetch error: http://www.hdh.ucsd.edu/ => https://www.hdh.ucsd.edu/: (6, 'Could not resolve host: www.hdh.ucsd.edu')
Fetch error: http://maeweb.ucsd.edu/ => https://maeweb.ucsd.edu/: (60, 'SSL certificate problem: self signed certificate')
Fetch error: http://se.ucsd.edu/ => https://se.ucsd.edu/: Cycle detected - URL already encountered: https://structures.ucsd.edu/
Fetch error: http://structures.ucsd.edu/ => https://structures.ucsd.edu/: Cycle detected - URL already encountered: https://structures.ucsd.edu/
Fetch error: http://www.structures.ucsd.edu/ => https://www.structures.ucsd.edu/: Cycle detected - URL already encountered: https://structures.ucsd.edu/
Fetch error: http://www-structures.ucsd.edu/ => https://www-structures.ucsd.edu/: Cycle detected - URL already encountered: https://structures.ucsd.edu/
Fetch error: http://accesslink.ucsd.edu/ => https://altng.ucsd.edu/: (28, 'Connection timed out after 10001 milliseconds')
Fetch error: http://cri.ucsd.edu/ => https://acms.ucsd.edu/units/cri/: (6, 'Could not resolve host: cri.ucsd.edu')
Non-2xx HTTP code: http://desktop.ucsd.edu/ (200) => https://acms.ucsd.edu/units/desktop/ (404)
Fetch error: http://financiallink.ucsd.edu/ => https://www-act.ucsd.edu/cgi-bin/financiallink.pl: Cycle detected - URL already encountered: https://act.ucsd.edu/cgi-bin/financiallink.pl/1/
Fetch error: http://marketplace.ucsd.edu/ => https://www-act.ucsd.edu/marketplace-sso/signon: Cycle detected - URL already encountered: https://act.ucsd.edu/marketplace-sso/signon
Fetch error: http://www.mytritonlink.ucsd.edu/ => https://act.ucsd.edu/myTritonlink20/display.htm: (6, 'Could not resolve host: www.mytritonlink.ucsd.edu')
	For problematic rules, see UCSD.edu-self-signed.xml.


	Other UCSD rulesets:

		- SDSC.edu.xml


	Nonfunctional subdomains:

		- alumni ¹
		- anthro ²
		- apsys11		(shows www.sysnet; mismatched, CN: www.sysnet.ucsd.edu)
		- artisanalfisheries ⁴
		- aventeur ⁵
		- (www.)aquarium ⁶
		- campusclimate ²
		- ccis ²
		- chancellor ²
		- chemistry ⁶
		- cisweb2 ⁷
		- cmbb ⁸
		- cmbc ⁸
		- www.cogsci ²
		- communication ²
		- crl ⁶
		- ctri ⁹
		- diversity ᵃ
		- doctors ⁹
		- econ ²
		- economics ⁹
		- econweb ²
		- founders ²
		- gig ᵇ
		- globalcalifornia ²
		- health ⁶
		- (www.)hdp ²
		- heartcenter ᶜ
		- hmi			(times out)
		- hsevents ⁹
		- hydraulicslab ⁷
		- invent ¹
		- irps ᵈ
		- (www.)jacobsschool ᵉ
		- ling ²
		- maps ⁶
		- memorydisorders ᶜ
		- www.mpl ²
		- mstp ᶠ
		- myhealth ᵍ
		- oec-vmweb02
		- pharmacy ʰ
		- plan ²
		- psychservices ²
		- psy ʰ
		- rady ⁹
		- scrippsblogs ⁴
		- scrippsscholars ⁶
		- (www.)sio ⁱ
		- sociology ²
		- som ²
		- sportsclubs ²
		- success ᵇ
		- thezone ²
		- ucsdnews ²
		- webct ⁹
		- www-chancellor ²
		- www-chem ⁶
		- www-tep ²
		- vac ʲ
		- volunteer50 ²
		- ypp ᵏ

	¹ Dropped
	² Refused
	⁴ Shows tuna
	⁵ Redirects to offline.php
	⁶ Redirects to http
	⁷ Shows RHEL test page
	⁸ Shows aquarium
	⁹ Interrupted
	ᵃ 404; mismatched, CN: myosd.ucsd.edu
	ᵇ Shows as
	ᶜ Shows health2
	ᵈ Shows gardner
	ᵉ "If you are looking for http://www.jacobsschool.ucsd.edu/ click here."
	ᶠ Shows healthspan
	ᵍ Mismatched, CN: *.staywellsolutionsonline.com
	ʰ Blank tree
	ⁱ Redirects to scripps
	ʲ Shows aventeur
	ᵏ Shows physics


	Problematic subdomains:

		- accb *
		- asgrants *
		- asgraphicstudio *
		- bookstore ²
		- www.chd ³
		- collections ⁴
		- courses ⁵
		- www.ethnicstudies ³
		- gardner ⁶
		- (www.)giftplanning.ucsd.edu ⁷
		- goto ¹
		- healthspan ²
		- irps	(redirects to a4.ucsd.edu)
		- physicalsciences ᵃ
		- psychology ᵇ
		- www.psychology ³
		- scrippsnews ⁴
		- spiff	(cert: www.iod.ucsd.edu, shows that domain's data
		- studenthealth ᵇ
		- (www.)supportscripps ᵈ
		- tuna ᵉ

	* Mismatched, CN: as.ucsd.edu
	² Expired 2012
	³ Cert only matches *.ucsd.edu
	⁴ Shows aquarium
	⁵ Mismatched, CN: IWDC-WEB1.AD.UCSD.EDU; mixed css
	⁶ Self-signed
	⁷ Mismatched, CN: *.giftlegacy.com
	¹ Works, self-signed
	ᵃ Expired 2014, self-signed
	ᵇ Mixed active content
	ᵈ Shows scrippsscholars
	ᵉ Some paths 404


	Partially covered subdomains:

		- collections ¹		(→ scripps)
		- extension ²
		- hdh ³
		- (www.)psycholog ³
		- scrippsnews ¹		(→ scripps)
		- studenthealth	³
		- tuna ⁴

	¹ Some paths don't redirect
	² Some paths redirect to http
	³ Avoiding broken MCB
	⁴ Some paths 404


	Fully covered subdomains:

		- (www.)
		- academicconnections
		- admissions
		- as
		- assets
		- artsandhumanities
		- biology
		- blink
		- caesar
		- calendar
		- career
		- cfr
		- cgs
		- (www.)chd			(www → ^)
		- cilas
		- create
		- crlpsandiego
		- cseweb
		- csmp
		- cwo
		- dbsportal
		- dah
		- disabilities
		- eaop
		- ersys-webapps
		- (www.)ethnicstudies		(www → ^)
		- foundation
		- (www.)giftplanning		(→ ucsd.giftlegacy.com)
		- giving
		- globalhealthprogram
		- health2
		- healthsciences
		- hsreservations
		- igpp
		- igppticket
		- igppwiki
		- iod
		- isp
		- jobs
		- libguides
		- libraries
		- lists
		- m
		- mailman
		- (www.)math
		- mathlink
		- mathlink2
		- meded
		- mobile
		- myextension
		- myosd
		- mytritonlink
		- myucsdchart
		- ocfr
		- ocga
		- onthego
		- pao
		- parents
		- physics
		- podcast
		- polisci
		- preuss
		- profiles
		- recreation
		- rmp
		- saber
		- sarc
		- sciencestudies
		- scripps
		- sdawp
		- ships
		- socialsciences
		- studentparents
		- students
		- studentsupport
		- (www.)supportscripps		(→ scripps)
		- sustainability
		- trio
		- ucsdfoundation
		- ui
		- unex-shibboleth
		- usmex
		- usp
		- www-act
		- www-er
		- yankelovichcenter


	These altnames don't exist:

		- admin.eng.ucsd.edu


	Insecure cookies are set for these domains:

		- 
		- a4
		- academicconnections
		- act
		- calendar
		- courses
		- csmp.ucop.edu
		- ersys-webapps
		- extension
		- (www.)giftplanning
		- hdh
		- igppwiki
		- jobs
		- m
		- meded
		- mentorship
		- myextension
		- profiles
		- recreation
		- roger
		- studenthealth
		- ted
		- www-er


	Mixed content:

		- iframe on studenthealth from www.google.com *

		- css, on:

			- academicconnections, admissions, biology from fonts.googleapis.com *
			- courses from acms *

			- hdh from m *
			- hdh from www *
			- hdh from ajax.googleapis.com *

			- psychology from $self *
			- psychology from www *

	* Secured by us

-->
<ruleset name="UCSD" default_off='failed ruleset test'>
<!-- Note from submitter: I do NOT have an official position in UCSD's information technology departments.
     I prefer not to give out my UCSD-assigned email address, but you should be able to find another email
     address for me by examining the mailing list. -->
<!-- E-Check uses quikpayasp.com; TritonCash uses services.jsatech.com
     These domains belong in separate rulesets because they are not used solely by UCSD.
     Does uc.sumtotalsystems.com (ultimate destination of uclearning) belong here, or do other UCs use it too?
-->
<!-- TODOs:
   <target host="apol-recruit.ucsd.edu" />
   <target host="m.ucsd.edu" /> (mobile redirection script supports https because it is used on TritonLink)
   <target host="ogs-calendar.ucsd.edu" />
   <target host="students.ucsd.edu" /> (used for some embedded content on TritonLink; a rule for the entire _resources folder was tried and caused breakage)
   <target host="vac.ucsd.edu" /> (Virtual Advising Center - redirects to some page in aventeur)
   <target host="vcsaforms.ucsd.edu" /> (hit during TritonLink logout; is is sslstrip-vulnerable anywhere?)
   <target host="webct.ucsd.edu" /> (redirector; check behavior when logged in vs. out)
   <target host="webctweb.ucsd.edu" /> (superseded by ted)
   <target host="www-no.ucsd.edu" /> (Network Operations, used by ResNet registration etc. not sure if https enforced.
                                      www-ono.ucsd.edu seems to exist too - Old Network Operations?)

     TritonLink used to be called StudentLink according to https://sites.google.com/site/ucsdecegsc/information-for-new-students/tips-for-new-students
     This info is several years old and not worth worrying about.

     Known cases of different content between http and https:
     emerald.ucsd.edu

     I haven't yet verified the (non-)existence of www subdomains for all cases.
-->
<!-- normally https only; protect against sslstripping -->
   <target host="a4.ucsd.edu" />
   <target host="acs-webmail.ucsd.edu" />
   <target host="altng.ucsd.edu" />
   <target host="aventeur.ucsd.edu" />
   <target host="cinfo.ucsd.edu" />
   <target host="facilities.ucsd.edu" />
   <target host="gradapply.ucsd.edu" />
   <target host="graduateapp.ucsd.edu" />
   <target host="jacobsstudent.ucsd.edu" />
   <target host="myucsdchart.ucsd.edu" />
   <target host="sdacs.ucsd.edu" />
   <target host="shs.ucsd.edu" />
   <target host="ted.ucsd.edu" />
   <target host="ucsdbkst.ucsd.edu" />
<!-- supports https but doesn't enforce it on all pages

     CSE, ECE, Mechanical and Aerospace Engineering, Nanoengineering, Structural Engineering depts share one server.
     Its SubjectAltName also mentions the following domains, but I've not written rules for them because they're for private use:
     oec-vmweb03.ucsd.edu, ece-internal.ucsd.edu, t (unqualified!)
     There is usually mixed content from www.jacobsschool.ucsd.edu -->
   <target host="a.ucsd.edu" />
   <target host="acms.ucsd.edu" />
   <target host="bookstore.ucsd.edu" />
   <target host="www.bookstore.ucsd.edu" /><!-- cert mismatch, rule redirects it to domain without www -->
   <target host="cs.ucsd.edu" />
   <target host="www.cs.ucsd.edu" />
   <target host="cse.ucsd.edu" />
   <target host="www.cse.ucsd.edu" />
   <target host="ece.ucsd.edu" />
   <target host="www.ece.ucsd.edu" />
   <target host="hdh.ucsd.edu" />
   <target host="www.hdh.ucsd.edu" />
   <target host="hds.ucsd.edu" />
   <target host="www.hds.ucsd.edu" /><!-- cert mismatch, rule redirects it to domain without www -->
   <target host="maeweb.ucsd.edu" />
   <target host="nanoengineering.ucsd.edu" />
   <target host="www.nanoengineering.ucsd.edu" />
   <target host="ne-web.ucsd.edu" />
   <target host="ne.ucsd.edu" />
   <target host="neweb.ucsd.edu" />
   <target host="roger.ucsd.edu" />
   <target host="se.ucsd.edu" />
   <target host="structures.ucsd.edu" />
   <target host="www.structures.ucsd.edu" />
   <target host="uxt.ucsd.edu" />
   <target host="www-cs.ucsd.edu" />
   <target host="www-cse.ucsd.edu" />
   <target host="www-ne.ucsd.edu" />
   <target host="www-structures.ucsd.edu" />
<!-- only some features known to support https; protect them against sslstripping (not Firesheep) -->
   <target host="act.ucsd.edu" />
   <target host="health.ucsd.edu" />
		<!--
			Redurects to http, along with:

				- news/Pages/
				- news/releases/Pages/
								-->
		<exclusion pattern="^http://health\.ucsd\.edu/_layouts/spsredirect\.aspx" />
   <target host="libraries.ucsd.edu" />
   <target host="studenthealth.ucsd.edu" /><!-- XXX: Does this still use ipsCA? -->
   <target host="www-act.ucsd.edu" />
<!-- redirectors
     TODO: full Link Family list at http://blink.ucsd.edu/technology/help-desk/applications/link-family/list.html -->
   <target host="accesslink.ucsd.edu" />
   <target host="acs.ucsd.edu" />
   <target host="cri.ucsd.edu" />
   <target host="desktop.ucsd.edu" />
   <target host="financiallink.ucsd.edu" />
   <target host="iwdc.ucsd.edu" />
   <target host="marketplace.ucsd.edu" />
   <target host="mytritonlink.ucsd.edu" />
   <target host="www.mytritonlink.ucsd.edu" />
   <target host="resnet.ucsd.edu" />
   <target host="software.ucsd.edu" />
   <target host="sysstaff.ucsd.edu" />
   <target host="tritonlink.ucsd.edu" />
   <target host="www.tritonlink.ucsd.edu" />
   <target host="uclearning.ucsd.edu" />
   <target host="webmail.ucsd.edu" />
   <target host="www-acs.ucsd.edu" />

	<target host="ucsd.edu" />
	<target host="*.ucsd.edu" />
		<!--
			Redirect to http:
						-->
		<!--exclusion pattern="^http://extension\.ucsd\.edu/index\.cfm" /-->
		<!--
			Exceptions:
					-->
		<exclusion pattern="^http://extension\.ucsd\.edu/+(?!cart/images/|css/|favicon\.ico|images/|profile/index\.cfm|programapplications/index\.cfm)" />
		<!--
			Avoid broken MCB:
						-->
		<exclusion pattern="^http://hdh\.ucsd\.edu/+mobile(?:$|[?/])" />
		<exclusion pattern="^http://(?:www\.)?psychology\.ucsd\.edu/+(?!favicon\.ico|_images/|_resources/)" />
		<exclusion pattern="^http://studenthealth\.ucsd\.edu/+(?!css/|favicon\.ico|img/)" />
		<!--
			404:
				-->
		<!--exclusion pattern="^http://tuna\.ucsd\.edu/hydro/sites/tuna\.ucsd\.edu\.hydro/files/" /-->
		<!--
			Exceptions:
					-->
		<exclusion pattern="^http://tuna\.ucsd\.edu/+(?!$|\?)" />

	<!--	Not secured by server:
					-->
	<!--securecookie host="^\.ucsd\.edu$" name="^(III_EXPT_FILE|III_SESSION_ID|PHPSESSID|SESSION_LANGUAGE|jlinkauthserver|jlinksessionidx)$" /-->
	<!--securecookie host="^(a4|act|m)\.ucsd\.edu$" name="^sto-id$" /-->
	<!--securecookie host="^a4\.ucsd\.edu$" name="^(_idp_authn_lc_key|JSESSIONID)$" /-->
	<!--securecookie host="^(academicconnections|extension|meded)\.ucsd\.edu$" name="^(CFID|CFTOKEN)$" /-->
	<!--securecookie host="^act\.ucsd\.edu$" name="^JSESSIONID$" /-->
	<!--securecookie host="^(calendar|ersys-webapps|www-er)\.ucsd\.edu$" name="^ASPSESSIONID[A-Z]{8}$" /-->
	<!--securecookie host="^(courses|hdh|jobs|mentorship|profiles|studenthealth)\.ucsd\.edu$" name="^ASP\.NET_SessionId$" /-->
	<!--securecookie host="^csmp\.ucop\.edu$" name="^ci_session$" /-->
	<!--securecookie host="^(www\.)?giftplanning\.ucsd\.edu$" name="^(VisitID|VisitTerm)$" /-->
	<!--securecookie host="^igppwiki\.ucsd\.edu$" name="^cc\.collabd_session_guid$" /-->
	<!--securecookie host="^myextension\.ucsd\.edu$" name="^_myex_session$" /-->
	<!--securecookie host="^recreation\.ucsd\.edu$" name="^PHPSESSID$" /-->
	<!--securecookie host="^roger\.ucsd\.edu$" name="^SESSION_SCOPE$" /-->
	<!--securecookie host="^ted\.ucsd\.edu$" name="^session_id$" /-->

<!-- Other things could stand to have securecookie, but these are the most important:
     a4 is used for login pages and some embedded scripts related to the login system. It doesn't yet flag its cookies as https-only.
     acs-webmail uses at least two cookies, only one of which is normally flagged https-only. -->
   <securecookie host="^(?:.+\.)?a(?:4|cs-webmail)\.ucsd\.edu$" name=".*" />

   <rule from="^http://a4\.ucsd\.edu/"
       to="https://a4.ucsd.edu/" />
   <rule from="^http://(?:acs-)?webmail\.ucsd\.edu/"
       to="https://acs-webmail.ucsd.edu/" />
   <rule from="^http://altng\.ucsd\.edu/"
       to="https://altng.ucsd.edu/" />
   <rule from="^http://aventeur\.ucsd\.edu/"
       to="https://aventeur.ucsd.edu/" />
   <rule from="^http://cinfo\.ucsd\.edu/"
       to="https://cinfo.ucsd.edu/" />
   <rule from="^http://facilities\.ucsd\.edu/"
       to="https://facilities.ucsd.edu/" />
   <rule from="^http://gradapply\.ucsd\.edu/"
       to="https://gradapply.ucsd.edu/" />
   <rule from="^http://graduateapp\.ucsd\.edu/"
       to="https://graduateapp.ucsd.edu/" />
   <rule from="^http://jacobsstudent\.ucsd\.edu/"
       to="https://jacobsstudent.ucsd.edu/" />
   <rule from="^http://myucsdchart\.ucsd\.edu/"
       to="https://myucsdchart.ucsd.edu/" />
   <rule from="^http://sdacs\.ucsd\.edu/"
       to="https://sdacs.ucsd.edu/" />
   <rule from="^http://shs\.ucsd\.edu/"
       to="https://shs.ucsd.edu/" />
   <rule from="^http://ted\.ucsd\.edu/"
       to="https://ted.ucsd.edu/" />
   <rule from="^http://ucsdbkst\.ucsd\.edu/"
       to="https://ucsdbkst.ucsd.edu/" />

   <rule from="^http://a\.ucsd\.edu/"
       to="https://a.ucsd.edu/" />
   <rule from="^http://acms\.ucsd\.edu/"
       to="https://acms.ucsd.edu/" />
   <rule from="^http://(?:www\.)?bookstore\.ucsd\.edu/"
       to="https://bookstore.ucsd.edu/" />
   <rule from="^http://(www[-\.])?cs(e)?\.ucsd\.edu/"
       to="https://$1cs$2.ucsd.edu/" />
   <rule from="^http://(www\.)?ece\.ucsd\.edu(:16080)?/"
       to="https://$1ece.ucsd.edu/" />
   <rule from="^http://(www\.)?hdh\.ucsd\.edu/"
       to="https://$1hdh.ucsd.edu/" />
   <rule from="^http://(?:www\.)?hds\.ucsd\.edu/"
       to="https://hds.ucsd.edu/" />
   <rule from="^http://maeweb\.ucsd\.edu/"
       to="https://maeweb.ucsd.edu/" />
   <rule from="^http://(www\.)?nanoengineering\.ucsd\.edu/"
       to="https://$1nanoengineering.ucsd.edu/" />
   <rule from="^http://ne(-?web)?\.ucsd\.edu/"
       to="https://ne$1.ucsd.edu/" />
   <rule from="^http://roger\.ucsd\.edu/"
       to="https://roger.ucsd.edu/" />
   <rule from="^http://se\.ucsd\.edu/"
       to="https://se.ucsd.edu/" />
   <rule from="^http://(www\.)?structures\.ucsd\.edu/"
       to="https://$1structures.ucsd.edu/" />
   <rule from="^http://uxt\.ucsd\.edu/"
       to="https://uxt.ucsd.edu/" />
   <rule from="^http://www-ne\.ucsd\.edu/"
       to="https://www-ne.ucsd.edu/" />
   <rule from="^http://www-structures\.ucsd\.edu/"
       to="https://www-structures.ucsd.edu/" />

   <rule from="^http://health\.ucsd\.edu/(_layouts/|page_ad/|request_appt|Style\ Library/|WebResource\.axd)"
           to="https://health.ucsd.edu/$1" />
   <rule from="^http://libraries\.ucsd\.edu/digital/"
           to="https://libraries.ucsd.edu/digital/" />
<!-- Most of studenthealth.ucsd.edu does not enforce https.
     The Ask-A-Question feature, located in the folder /secure/askaquestion/, does enforce https, and it requires login (via a4 page).
     XXX: Does this still use ipsCA? If so...
     This rule only protects against sslstripping. The cert error is NOT this rule's fault and would still occur without the rule. -->
   <rule from="^http://studenthealth\.ucsd\.edu/secure/"
           to="https://studenthealth.ucsd.edu/secure/" />
<!-- Link Family is migrating from www-act to act. Redirection exists. Many student-accessible features have CamelCased names like studentDirectDeposit -->
   <rule from="^http://(www-)?act\.ucsd\.edu/(bsl/home|cgi-bin/[A-Za-z]+link\.pl|classPlanner|marketplace-sso|mytritonlink/view|myTritonlink20|student[A-Z][A-Za-z]+/[A-Za-z]+|travellink/home)"
           to="https://$1act.ucsd.edu/$2" />

   <rule from="^http://accesslink\.ucsd\.edu/"
           to="https://altng.ucsd.edu/" />
<!-- err on the side of not breaking things, hoping that no subpages are used. Replace www-act with act in these? -->
   <rule from="^http://financiallink\.ucsd\.edu/?$"
           to="https://www-act.ucsd.edu/cgi-bin/financiallink.pl" />
   <rule from="^http://marketplace\.ucsd\.edu/?$"
           to="https://www-act.ucsd.edu/marketplace-sso/signon" />
   <rule from="^http://(?:www\.)?(?:my)?tritonlink\.ucsd\.edu/?$"
           to="https://act.ucsd.edu/myTritonlink20/display.htm" />
   <rule from="^http://uclearning\.ucsd\.edu/"
           to="https://a4.ucsd.edu/lms/" />
<!-- redirects to acms go below -->
<!-- cri ultimately redirects to the ACMS homepage because the CRI dept was closed, although this rule is correct for the initial bounce. That isn't our problem
     NB: These have subpages. resnet has been tested fairly well, except the conference guest registration (resnet.ucsd.edu/conf) which might not exist anymore, but software needs more testing. -->
   <rule from="^http://(cri|desktop|resnet|software|sysstaff)\.ucsd\.edu/"
           to="https://acms.ucsd.edu/units/$1/" />
<!-- was https://acms.ucsd.edu/troublereport/, which is now a redirect; note that a.ucsd.edu is also officially part of ACMS -->
   <rule from="^http://(?:www-)?acs\.ucsd\.edu/troublereport/?$"
           to="https://a.ucsd.edu/troublereport/" />
   <rule from="^http://www-acs\.ucsd\.edu/?$"
           to="https://acms.ucsd.edu/index.html" />
   <rule from="^http://www-acs\.ucsd\.edu/account-tools/oce-intro\.shtml$"
           to="https://acms.ucsd.edu/students/oce-intro.html" />
   <rule from="^http://www-acs\.ucsd\.edu/instructional/?$"
           to="https://acms.ucsd.edu/students/" />

   <securecookie host=".*\.ucsd\.edu" name=".*" />

	<!--	Redirect keeps args:
					-->
	<rule from="^http://collections\.ucsd\.edu/+(?=$|\?)"
		to="https://scripps.ucsd.edu/collections" />

	<!--	Domains for which both !www and www exist,
		but only !www works unproblematically:
							-->
	<rule from="^http://(?:www\.)?(chd|ethnicstudies)\.ucsd\.edu/"
		to="https://$1.ucsd.edu/" />

	<rule from="^http://(?:www\.)?giftplanning\.ucsd\.edu/"
		to="https://ucsd.giftlegacy.com/" />

	<!--	Domains for which both !www and www exist,
		and both work unproblematically.
						-->
	<rule from="^http://(www\.)?math\.ucsd\.edu/"
		to="https://$1math.ucsd.edu/" />

	<!--	Redirect drops args:
					-->
	<rule from="^http://psy\.ucsd\.edu/+(?:$|\?.*)"
		to="https://psychology.ucsd.edu/" />

	<rule from="^http://(?:www\.)?psychology\.ucsd\.edu/"
		to="https://psychology.ucsd.edu/" />

	<!--	Redirect keeps args:
					-->
	<rule from="^http://scrippsnews\.ucsd\.edu/+(?=$|\?)"
		to="https://scripps.ucsd.edu/news" />

	<rule from="^http://scrippsnews\.ucsd\.edu/Releases/"
		to="https://scripps.ucsd.edu/news" />

	<!--	Redirect drops path but not args:
							-->
	<rule from="^http://(?:www\.)?supportscripps\.ucsd\.edu/[^?]*"
		to="https://scripps.ucsd.edu/giving" />

	<rule from="^http://((?:admissions|academicconnections|as|assets|artsandhumanities|biology|blink|caesar|calendar|career|cfr|cgs|cilas|create|crlpsandiego|cseweb|csmp|cwo|dah|dbsportal|disabilities|eaop|ersys-webapps|extension|foundation|giving|globalhealthprogram|health2|healthsciences|hdh|hsreservations|igpp|igppticket|igppwiki|iod|isp|iwdc|jobs|libguides|libraries|lists|m|mailman|mathlink2?|meded|mobile|myextension|myosd|mytritonlink|myucsdchart|ocfr|ocga|onthego|pao|parents|physics|podcast|polisci|preuss|profiles|recreation|rmp|saber|sarc|sciencestudies|scripps|sdawp|ships|socialsciences|student(?:health|parents|s|support)|sustainability|trio|tuna|ucsdfoundation|ui|unex-shibboleth|usmex|usp|www|www-act|www-er|yankelovichcenter)\.)?ucsd\.edu/"
		to="https://$1ucsd.edu/" />
</ruleset>
