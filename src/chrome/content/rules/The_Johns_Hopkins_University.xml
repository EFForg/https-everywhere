<!--
	Nonfunctional domains:

		- biophysics.med.jhmi.edu ²
		- ssc.jhmi.edu	(shows ess.erp.johnhopkins.edu, CN: *.johnshopkins.edu)

		- academicsupport.jhu.edu ⁴
		- www.advising.jhu.edu ⁴
		- (www.)?alumni.jhu.edu ²
		- www.ams.jhu.edu ²
		- anthropology.jhu.edu ⁴
		- archaeologicalmuseum.jhu.edu ²
		- (www.)?benefits.jhu.edu **
		- www.bio.jhu.edu	(Shows orchid.hosts.jhmi.edu)
		- (www.)?bme.jhu.edu ⁴
		- carey.jhu.edu ²
		- (www.)?cbi.jhu.edu ⁴
		- (www.)?chemistry.jhu.edu ⁴
		- classics.jhu.edu ⁴
		- cmdb.jhu.edu		(Shows webapps.jhu.edu)
		- cogsci.jhu.edu ⁴
		- e-catalog.jhu.edu ¹
		- (www.)?econ.jhu.edu ⁴
		- education.jhu.edu ¹
		- eng.jhu.edu ¹
		- english.jhu.edu ⁴
		- eps.jhu.edu ⁴
		- gazette.jhu.edu ⁴
		- (www.)?grad.jhu.edu ⁴
		- grll.jhu.edu ⁴
		- gro.jhu.edu ⁴
		- history.jhu.edu ⁴
		- host.jhu.edu ⁴
		- hrnt.jhu.edu ²
		- humctr.jhu.edu ⁴
		- isi.jhu.edu ²
		- krieger.jhu.edu ⁴
		- krieger2.jhu.edu ⁴
		- kriegerbeta.jhu.edu	(Blank page)
		- kriegerit.jhu.edu ⁴
		- spar.isi.jhu.edu ²
		- krieger.jhu.edu ⁴
		- ksasalpha.jhu.edu	(Blank page)
		- www.jhu.edu	(CN: *.johnshopkins.edu)
		- labsafety.jhu.edu ⁴
		- old.library.jhu.edu ⁸
		- m.jh.edu ⁷
		- magazine.jhu.edu ²
		- (www.)?math.jhu.edu	(Plaintext reply)
		- neareast.jhu.edu ⁴
		- (www.)nursing.jhu.edu ⁴
		- parents.jhu.edu ⁴
		- pbs.jhu.edu ⁴
		- pha.jhu.edu			(Shows mail.pha.jhu.edu)
		- www.pha.jhu.edu		(Shows wiki.pha.jhu.edu)
		- philosophy.jhu.edu ⁴
		- physics-astronomy.jhu.edu ⁴
		- pmb.jhu.edu ⁴
		- pmcb.jhu.edu ⁴
		- politicalscience.jhu.edu ⁴
		- postdoc.jhu.edu ⁴
		- preview.peabody.jhu.edu ⁸
		- releases.jhu.edu ⁴
		- (www.)?soc.jhu.edu ⁴
		- stepup.jhu.edu ⁴
		- tutoring.jhu.edu ¹
		- web.jhu.edu ⁴
		- webaccessibility.jhu.edu	(Shows orchid.hosts.jhmi.edu)
		- writingseminars.jhu.edu ⁴

		- esgwebproxy.johnshopkins.edu ⁴

	¹ Dropped
	** Shows hrnt
	² Refused
	⁴ Shows activtracker.johnshopkins.edu
	⁷ Redirects to login
	⁸ Reset


	Problematic domains:

		- caportal.cis.jhu.edu ¹
		- gallery.cis.jhu.edu ²
		- mind.cog.jhu.edu	(Expired 2013)
		- (www.)?ce.jhu.edu ⁴
		- cs.jhu.edu	(cert only matches www.cs)
		- folio.jhu.edu		(Cert only matches engineering.jhu.edu)
		- (www.)giving.jhu.edu ⁴
		- homewoodphoto2.jhu.edu ²
		- (www.)?it.jhu.edu	(Shows activtracker.johnshopkins.edu)
		- ask.library.jhu.edu		(LibAnswers)
		- databases.library.jhu.edu ²
		- mathnt.mat.jhu.edu	(Cert only matches www.mathematics.jhu.edu)
		- mathematics.jhu.edu	(Cert only matches www.foo)
		- nanjing.jhu.edu ⁵
		- (www.)?peabody.jhu.edu ⁶

		- www.it.johnshopkins.edu	(Cert only matches *.johnshopkins.edu)

	¹ Mismatched, CN: gallery.cis.jhu.edu
	² Self-signed
	⁴ Refused
	⁵ Mismatched, CN: www.sais-jhu.edu
	⁶ Mismatched, CN: beta.jhu.edu


	Partially covered domains:

		- www.ams.jhu.edu *	(→ engineering)

	* Some paths 404


	Fully covered domains:

		- orchid.hosts.jhmi.edu

		- jhu.edu subdomains:

			- apply
			- beta
			- blackboard
			- (www.)?ce	(→ engineering)
			- connect
			- (www.)cs	(^ → www)
			- archive.data
			- jhweb.dev
			- engineering
			- ep
			- folio		(→ engineering)
			- hmt
			- hrnt
			- hub
			- api.hub
			- isis
			- (www.)?it	(→ it.johnshopkins.edu)
			- sites.krieger

			- (www.)?library
			- catalyst.library
			- findit.library
			- rooms.library

			- m
			- mathnt.mat	(→ www.mathematics)
			- my
			- (www.)peabody	(^ → www)
			- mail.pha
			- wiki.pha
			- (www.)rising
			- (www.)security
			- webapps

		- johnshopkins.edu subdomains:

			- activtracker
			- e210
			- ess.erp
			- (www.)?it	(www → ^)
			- login
			- (www.)?mathematics	(^ → www)
			- my
			- portal
			- portalcontent
			- web1


	These altnames don't exist:

		- io17.cis.jhu.edu


	Insecure cookies are set for these domains:

		- gallery.cis.jhu.edu
		- hrnt.jhu.edu
		- hub.jhu.edu
		- (www.)peabody.jhu.edu

		- portalcontent.johnshopkins.edu


	Mixed content:

		- css, on:

			- homewoodphoto2, www.peabody from fonts.googleapis.com *
			- webapps from $self
			- webapps from www

		- Images, on:

			- archive.data from dmp.data
			- archive.data, dmp.data from www.library
			- engineering from $self *
			- homewoodphoto2 from *.r\d+.cf\d.rackcdn.com *
			- webapps from $self
			- webapps from www
			- it.johnshopkins.edu from $self

		- favicon on hmt from webapps

	* Secured by us

-->
<ruleset name="The Johns Hopkins University (partial)">

	<target host="orchid.hosts.jhmi.edu" />
	<target host="*.jhu.edu" />
	<target host="*.johnshopkins.edu" />


	<!--	Not secured by server:
					-->
	<!--securecookie host="^(www\.)?peabody\.jhu\.edu$" name="^(CFID|CFTOKEN)$" /-->
	<!--securecookie host="^gallery\.cis\.jhu\.edu$" name="^GallerySession$" /-->
	<!--securecookie host="^hrnt\.jhu\.edu$" name="^(CFID|CFTOKEN|JHUJOBS_ID|JHUJOBS_USER|JSESSIONID)$" /-->
	<!--securecookie host="^hub\.jhu\.edu$" name="^PHPSESSID$" /-->
	<!--securecookie host="^isis\.jhu\.edu$" name="^ASP\.NET_SessionId$" /-->
	<!--securecookie host="^m\.jh\.edu$" name="^(Johns-Hopkins|deviceClassification)$" /-->
	<!--securecookie host="^portalcontent\.johnshopkins\.edu$" name="^(CFID|CFTOKEN)$" /-->

	<securecookie host="^(?:gallery\.cis|hrnt|hub|isis|m|(?:www\.)?peabody)\.jhu\.edu$" name=".+" />
	<securecookie host="^.+\.johnshopkins\.edu$" name=".+" />


	<rule from="^http://orchid\.hosts\.jhmi\.edu/"
		to="https://orchid.hosts.jhmi.edu/" />

	<!--	Redirect keeps args:
					-->
	<rule from="^http://www\.ams\.jhu\.edu/+(?=$|\?)"
		to="https://engineering.jhu.edu/ams/" />

	<!--	Redirect drops path but not args:
							-->
	<rule from="^http://(?:www\.)?ce\.jhu\.edu/[^?]*"
		to="https://engineering.jhu.edu/civil/" />

	<!--	Domains for which both !www and www exist,
		but only www works unproblematically:
							-->
	<rule from="^http://(?:www\.)?(cs|peabody)\.jhu\.edu/"
		to="https://www.$1.jhu.edu/" />

	<!--	Redirect drops path but not args:
							-->
	<rule from="^http://folio\.jhu\.edu/[^?]*"
		to="https://engineering.jhu.edu/faculty/" />

	<!--	Redirect keeps path and args:
						-->
	<rule from="^http://(?:www\.)?giving\.jhu\.edu/+"
		to="https://rising.jhu.edu/" />

	<rule from="^http://(?:www\.)?it\.j(?:hu|ohnshopkins)\.edu/"
		to="https://it.johnshopkins.edu/" />

	<!--rule from="^http://ask\.library\.jhu\.edu/(?=css/|favicon\.ico|images/)"
		to="https://???.libanswers.com/" /-->

	<rule from="^http://(?:mathnt\.mat|(?:www\.)?mathematics)\.jhu\.edu/"
		to="https://www.mathematics.jhu.edu/" />

	<!--	Redirect drops path but not args:
							-->
	<rule from="^http://nanjing\.jhu\.edu/[^?]*"
		to="https://www.sais-jhu.edu/graduate-studies/campuses/nanjing-china" />

	<rule from="^http://(apply|beta|blackboard|connect|(?:archive|dmp)\.data|jhweb\.dev|engineering|ep|hmt|hrnt|hub|api\.hub|isis|sites\.krieger|(?:catalyst|findit|rooms)\.library|my?|(?:mail|wiki)\.pha|webapps)\.jhu\.edu/"
		to="https://$1.jhu.edu/" />

	<!--	Domains for which both !www and
		www work unproblematically:
						-->
	<rule from="^http://(www\.)?(library|rising|secure)\.jhu\.edu/"
		to="https://$1$2.jhu.edu/" />

	<rule from="^http://(activtracker|e210|ess\.erp|login|my|portal(?:content)?|web1)\.johnshopkins\.edu/"
		to="https://$1.johnshopkins.edu/" />

</ruleset>
