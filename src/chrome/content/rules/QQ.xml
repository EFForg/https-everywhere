<!--
	For rules causing MCB, see QQ.com-mixedcontent.xml.


	CDN buckets:

		- qzone.qq.com.edgesuite.net

			- imgcache.qq.com


	Nonfunctional domains:

		- qq.com subdomains:

			- 1 *
			- misc.3g ²
			- softfile.3g *
			- 3gqq ³
			- adver *
			- baobao *
			- browser	Plaintext reply
			- chuangshi *
			- city ⁴
			- crm2 *
			- cul ⁴
			- daoju *
			- data		500
			- daxue *
			- developer *
			- discuz *
			- cp.discuz *
			- djt *
			- dldir1	404
			- dldir3 *
			- dlied6	504
			- appupdate.elife *
			- finance	504
			- fm *
			- bbs.g	 ²
			- gad *
			- games		404
			- gongyi	404
			- guanjia	Redirects to 3gqq.qq.com
			- bbs.guanjia *
			- heat *
			- im *
			- isdspeed *
			- iwan		403
			- jq *
			- lbs *
			- m	 ²
			- bbs.m *
			- yun.m	 ²

			- open.mail	503
			- ptlogin2.mail *
			- qzs
			- service.mail		(502)
			- stockweb.mail		(503)

			- map		Redirects to 3gqq.qq.com

			- bbs.map *
			- pr.map	Redirects to 3gqq.qq.com
			- shangjia.map *
			- ugc.map *

			- mat1		404
			- mil ⁴
			- radio.cloud.music *
			- cp.music *
			- news ⁴
			- roll.news *
			- om	 ²
			- open		504

			- bbs.open *
			- iot.open	504
			- wiki.mg.open ²
			- op.open *
			- wiki.open	504
			- zc.open *

			- my.pay *
			- passport.pengyou *
			- piao *
			- pushdata	500
			- qqmusic *
			- admin.qun *
			- user.qzone	504
			- os.qzs	504
			- shang *
			- soft *
			- t		Shows another domain

			- ad.t		404
			- c.t		Shows another domain
			- dev.t		502
			- e.t		Shows another domain
			- k.t		Shows another domain
			- dev.open.t	502
			- p.t		Shows another domain
			- reg.t		Shows another domain
			- search.t	Shows another domain
			- follow.v.t *
			- vip.t		Shows another domain

			- bbs.vip *
			- web		502
			- weixiao *
			- wetest *
			- wpa *
			- xg *
			- yanchu *
			- cgi.yanchu *
			- www		404
			- zc		(Handshake fails)

		- mat1.gtimg.com **

	* Times out
	² Refused
	³ Redirects to http
	⁴ 404
	** 503, akamai


	Problematic domains:

		- api.pay.qplus.com	(expired 2012-08-27)

		- in *qq.com:

			- ^ ²
			- 3gimg ²
			- ac ³
			- buy ³
			- cb ³
			- img1.chuangshi ²
			- sta1.chuangshi ²
			- connect ³

			- act.daoju ² ³
			- js01.daoju ²
			- js02.daoju ²

			- dldir2 ²
			- service.exmail ²
			- film ³
			- g ²
			- gamevip ³
			- gameweb-img ²
			- qqgameplatcdn ²
			- img1 ²
			- kg ³
			- mx ²
			- mxm ²
			- mxv ²
			- nr ³
			- ossweb-img ²
			- pay ²
			- qqgame ²
			- open.qqgame ²
			- service ³
			- cdn.tencentgroup ²
			- cache.tv ³
			- v ³
			- cache.v ³
			- m.v ³
			- cdn.wetest ²
			- img1.write ²
			- y ³

			- i.y ²
			- m.y ² ³
			- p.y ³

	² Mismatched
	³ Mixed css


	Insecure cookies are set for these domains and hosts:

		- .qq.com
		- .aq.qq.com
		- .exmail.qq.com
		- .list.qq.com
		- .ptlogin2.qq.com
		- .ui.ptlogin2.qq.com
		- .r.qq.com
		- .reader.qq.com
		- mp.weixin.qq.com
		- .wx.qq.com
		- .login.wx.qq.com
		- .wx1.qq.com
		- .wx2.qq.com
		- .login.wx2.qq.com


	Mixed content:

		- iframe on igame from ui.ptlogin2.qq.com

		- css, on:

			- ac from ac.gtimg.com
			- act.daoju from ossweb-img.qq.com
			- cb, service, cache.tv, v from imgcache.qq.com *
			- connect from qzonestyle.gtimg.cn
			- film, kg, m.v, y, m.y from imgcache.gtimg.cn
			- igame from i.igcdn.cn
			- pay from imgcache.qq.com
			- nr, p.y from qzonestyle.gtimg.cn

		- Images, on:

			- ac from ac.gtimg.com
			- cb, kf, pay, service from imgcache.qq.com *
			- connect from qzonestyle.gtimg.cn
			- connect from pub.idqqimg.com *
			- act.daoju, igame from ossweb-img.qq.com
			- m.exmail from mail.qq.com
			- film, kg, v, m.v, y, m.y from imgcache.gtimg.cn *
			- film, cache.tv, v, y from i.gtimg.cn *
			- film, v from mat1.gtimg.com
			- film, v from puui.qpic.cn *
			- nr from qzonestyle.gtimg.cn
			- cache.tv, v from img1.gtimg.com
			- v from vpic.video.qq.com *
			- mp.weixin from res.wx.qq.com *

		- favicons, on:

			- exmail from $self *
			- edu.exmail, tel.exmail from exmail.qq.com *

	* Secured by us

-->
<ruleset name="QQ.com (partial)">
	<!--	Direct rewrites:
				-->
	<target host="y.3g.qq.com" />
	<!--target host="ac.qq.com" /-->
	<target host="aq.qq.com" />
	<target host="js.aq.qq.com" />
	<target host="byod.qq.com" />
	<!--target host="cb.qq.com" /-->
	<!--target host="connect.qq.com" /-->
	<!--	Time out
	target host="dp3.qq.com" /-->
	<target host="pcbrowser.dd.qq.com" />
	<target host="exmail.qq.com" />
	<target host="cnc.exmail.qq.com" />
	<target host="edu.exmail.qq.com" />
	<target host="en.exmail.qq.com" />
	<target host="m.exmail.qq.com" />
	<target host="open.exmail.qq.com" />
	<target host="tel.exmail.qq.com" />
	<!--target host="film.qq.com" /-->
	<!--	Time out
	target host="gaauth.qq.com" /-->
	<target host="hao.qq.com" />
	<target host="igame.qq.com" />
	<!--	https://github.com/EFForg/https-everywhere/issues/4516
	target host="imgcache.qq.com" /-->
	<target host="ke.qq.com" />
	<!--	redirects to http and Mixedcontent on https://kf.qq.com/product/weixin.html :
	target host="kf.qq.com" /-->
	<target host="kg.qq.com" />
	<target host="list.qq.com" />
	<target host="live.qq.com" />
	<target host="mail.qq.com" />
	<target host="en.mail.qq.com" />
	<target host="i.mail.qq.com" />
	<target host="res.mail.qq.com" />
	<target host="rl.mail.qq.com" />
	<target host="open.map.qq.com" />
	<target host="s.map.qq.com" />
	<target host="sv.map.qq.com" />
	<target host="wp.mail.qq.com" />
	<target host="ws.mail.qq.com" />
	<target host="music.qq.com" />
	<!--target host="nr.qq.com" /-->
	<target host="pay.qq.com" />
	<target host="pingfore.qq.com" />
	<target host="pingjs.qq.com" />
	<target host="ssl.ptlogin2.qq.com" />
	<target host="ui.ptlogin2.qq.com" />
	<target host="xui.ptlogin2.qq.com" />
	<target host="ssl.xui.ptlogin2.qq.com" />
	<target host="cgi.pub.qq.com" />
	<target host="qzs.qq.com" />
	<target host="qian.qq.com" />
	<target host="r.qq.com" />
	<target host="reader.qq.com" />
	<!--target host="service.qq.com" /-->
	<target host="file.service.qq.com" />
	<target host="support.qq.com" />
	<target host="open.t.qq.com" />
	<target host="tajs.qq.com" />
	<!--target host="cache.tv.qq.com" /-->
	<!--target host="v.qq.com" /-->
	<!--target host="m.v.qq.com" /-->
	<target host="sec.video.qq.com" />
	<target host="vpic.video.qq.com" />
	<target host="weixin.qq.com" />
	<target host="api.weixin.qq.com" />
	<target host="login.weixin.qq.com" />
	<target host="mp.weixin.qq.com" />
	<target host="open.weixin.qq.com" />
	<target host="support.weixin.qq.com" />
	<target host="web.weixin.qq.com" />
	<target host="webpush.weixin.qq.com" />
	<target host="weixin110.qq.com" />
	<target host="wx.qq.com" />
	<target host="file.wx.qq.com" />
	<target host="login.wx.qq.com" />
	<target host="res.wx.qq.com" />
	<target host="wx1.qq.com" />
	<target host="wx2.qq.com" />
	<target host="file.wx2.qq.com" />
	<target host="login.wx2.qq.com" />
	<!--target host="y.qq.com" /-->
	<!--target host="p.y.qq.com" /-->

		<!--	Sets cookie without Secure:
							-->
		<!--test url="http://mp.weixin.qq.com/s?__biz=&amp;mid=&amp;idx=1&amp;sn=&amp;scene=1&amp;srcid=&amp;key=&amp;ascene=1&amp;uin=&amp;devicetype=&amp;version=&amp;pass_ticket=" /-->


	<!--	Not secured by server:
					-->
	<!--securecookie host="^\.qq\.com$" name="^(device|mm_lang|pt_clientip|pt_serverip)$" /-->
	<!--securecookie host="^\.aq\.qq\.com$" name="^aq_base_sid$" /-->
	<!--securecookie host="^\.exmail\.qq\.com$" name="^(?:edition|mcookie|ssl_edition)$" /-->
	<!--securecookie host="^\.ptlogin2\.qq\.com$" name="^(pt_local_token|pt_login_sig|uikey)$" /-->
	<!--securecookie host="^\.(?:mail|r|reader)\.qq\.com$" name="^(?:edition|ssl_edition)$" /-->
	<!--securecookie host="^\.ui\.ptlogin2\.qq\.com$" name="^(pt_user_id|ptui_identifier)$" /-->
	<!--securecookie host="^mp\.weixin\.qq\.com$" name="^payforreadsn$" /-->
	<!--securecookie host="^\.(?:wx[12]?|login\.wx2?)\.qq\.com$" name="^mm_lang$" /-->

	<!--	Could we secure any of these safely?
							-->
	<!--securecookie host="^\.qq\.com$" name="^(mm_lang|webwxuvid)$" /-->
	<securecookie host="^\w" name="." />


	<rule from="^http:" to="https:" />

</ruleset>
