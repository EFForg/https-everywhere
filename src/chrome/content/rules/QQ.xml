<!--
	For rules causing MCB: QQ.com-mixedcontent.xml.
	For only avaiable in China: Tencent_CN.xml
	For rules causing test fails: QQ.com-Problematic.xml

	CDN buckets:

		- qzone.qq.com.edgesuite.net

			- imgcache.qq.com


	Nonfunctional domains:

		- qq.com subdomains:

			- 1 *
			- misc.3g ²
			- softfile.3g *
			- 3gqq ³
			- adver *
			- baobao *
			- browser	Plaintext reply
			- chuangshi *
			- city ⁴
			- crm2 *
			- cul ⁴
			- daoju *
			- data		500
			- daxue *
			- developer *
			- discuz *
			- cp.discuz *
			- djt *
			- dldir1	⁴
			- dldir3 *
			- dlied6	504
			- appupdate.elife *
			- finance	504
			- fm *
			- bbs.g	 ²
			- gad *
			- games		⁴
			- gongyi	³
			- guanjia	⁴
			- bbs.guanjia *
			- heat *
			- im *
			- isdspeed *
			- iwan		403
			- jq *
			- lbs *
			- live *
			- m	 ²
			- bbs.m *
			- yun.m	 ²

			- open.mail	**
			- ptlogin2.mail *
			- qzs
			- service.mail		(502)
			- stockweb.mail **

			- bbs.map *
			- shangjia.map *
			- ugc.map *

			- mat1 ⁴
			- mil ⁴
			- radio.cloud.music *
			- cp.music *
			- news ⁴
			- roll.news *
			- om	 ²
			- open		504

			- bbs.open *
			- iot.open	504
			- wiki.mg.open ²
			- op.open *
			- wiki.open	504
			- zc.open *

			- my.pay *
			- passport.pengyou *
			- piao *
			- pushdata	500
			- qqmusic *
			- admin.qun *
			- user.qzone	504
			- os.qzs	504
			- shang *
			- soft *
			- t		Shows another domain

			- ad.t		⁴
			- c.t		Shows another domain
			- dev.t		502
			- e.t		Shows another domain
			- k.t		Shows another domain
			- dev.open.t	502
			- p.t		Shows another domain
			- reg.t		Shows another domain
			- search.t	Shows another domain
			- follow.v.t *
			- vip.t		Shows another domain

			- bbs.vip *
			- web		502
			- weixiao *
			- wetest *
			- wpa *
			- xg *
			- yanchu *
			- cgi.yanchu *
			- www		⁴
			- zc		(Handshake fails)

		- mat1.gtimg.com **

	* Times out
	² Refused
	³ Redirects to http
	⁴ 404
	** 503, akamai


	Problematic domains:

		- api.pay.qplus.com	(expired 2012-08-27)

		- in *qq.com:

			- ^ ²
			- ac ³
			- buy ³
			- cb ³
			- img1.chuangshi ²
			- sta1.chuangshi ²
			- connect ³
			- act.daoju ² ³
			- js01.daoju ²
			- js02.daoju ²
			- dldir2 ²
			- cnc.exmail ²
			- service.exmail ²
			- tel.exmail ²
			- film ³
			- g ²
			- gaauth ²
			- gamevip ³
			- gameweb-img ²
			- qqgameplatcdn ²
			- img1 ²
			- kg ³
			- mx ²
			- mxm ²
			- mxv ²
			- nr ³
			- ossweb-img ²
			- pay ʲ
			- qqgame ²
			- open.qqgame ²
			- service ᵐ
			- cdn.tencentgroup ²
			- cache.tv ³
			- v ³
			- cache.v ³
			- m.v ³
			- cdn.wetest ²
			- img1.write ²
			- y ³
			- y.3g ²
			- i.y ²
			- m.y ² ³
			- p.y ³

	² Mismatched
	³ Mixed css
	ʲ Mixed js
	ᵐ 301 Moved Permanently

	Insecure cookies are set for these domains and hosts:

		- .qq.com
		- .aq.qq.com
		- .exmail.qq.com
		- .list.qq.com
		- .ptlogin2.qq.com
		- .ui.ptlogin2.qq.com
		- .r.qq.com
		- .reader.qq.com
		- mp.weixin.qq.com
		- .wx.qq.com
		- .login.wx.qq.com
		- .wx1.qq.com
		- .wx2.qq.com
		- .login.wx2.qq.com


	Mixed content:

		- iframe on igame from ui.ptlogin2.qq.com

		- css, on:

			- ac from ac.gtimg.com
			- act.daoju from ossweb-img.qq.com
			- cb, cache.tv, v from imgcache.qq.com *
			- connect from qzonestyle.gtimg.cn
			- film, kg, m.v, y, m.y from imgcache.gtimg.cn
			- igame from i.igcdn.cn
			- pay from imgcache.qq.com*
			- nr, p.y from qzonestyle.gtimg.cn

		- Images, on:

			- ac from ac.gtimg.com
			- cb, kf, pay from imgcache.qq.com *
			- connect from qzonestyle.gtimg.cn
			- connect from pub.idqqimg.com *
			- act.daoju, igame from ossweb-img.qq.com
			- m.exmail from mail.qq.com
			- film, kg, v, m.v, y, m.y from imgcache.gtimg.cn *
			- film, cache.tv, v, y from i.gtimg.cn *
			- film, v from mat1.gtimg.com
			- film, v from puui.qpic.cn *
			- nr from qzonestyle.gtimg.cn
			- cache.tv, v from img1.gtimg.com
			- v from vpic.video.qq.com *
			- mp.weixin from res.wx.qq.com *

		- favicons, on:

			- exmail from $self *
			- edu.exmail, tel.exmail from exmail.qq.com *

	* Secured by us

-->
<ruleset name="QQ.com (partial)">
	<target host="3gimg.qq.com" />
	<target host="aq.qq.com" />
	<target host="js.aq.qq.com" />
	<target host="combo.b.qq.com" />
		<!-- Get from http://www.geetest.com/ -->
		<test url="http://combo.b.qq.com/da/id.html" />
	<target host="byod.qq.com" />
	<target host="connect.qq.com" />
	<!--	Time out
	target host="dp3.qq.com" /-->
	<target host="pcbrowser.dd.qq.com" />
		<test url="http://pcbrowser.dd.qq.com/pcbrowserbig/qbextension/update/20150924/pioclpoplcdbaefihamjohnefbikjilc.crx" />

	<target host="exmail.qq.com" />
	<target host="edu.exmail.qq.com" />
		<test url="http://edu.exmail.qq.com/cgi-bin/sellonlinestatic" />
	<target host="hao.qq.com" />
	<target host="igame.qq.com" />
	<target host="imgcache.qq.com" />
	<target host="ke.qq.com" />
	<target host="kg.qq.com" />
	<target host="livew.l.qq.com" />
		<test url="http://livew.l.qq.com/livemsg?ad_type=WL&#x26;url=https%3A%2F%2Fv.qq.com%2Fx%2Fcover%2Fzf2z0xpqcculhcz.html%3Fvid%3Dy0016wfrzsc" />
	<target host="x.l.qq.com" />
		<test url="http://x.l.qq.com/unique.swf" />
		<test url="http://x.l.qq.com/web/jsproxy/uuser.html" />
	<target host="list.qq.com" />
	<target host="mail.qq.com" />
	<target host="en.mail.qq.com" />
	<target host="i.mail.qq.com" />
	<target host="res.mail.qq.com" />
	<target host="rl.mail.qq.com" />
	<target host="map.qq.com" />
		<exclusion pattern="^http://map\.qq\.com/(?!api/|history\.html$)" />
		<test url="http://map.qq.com/api/js" />
		<test url="http://map.qq.com/history.html" />
		<test url="http://map.qq.com/jiejing/home.html" />
		<test url="http://map.qq.com/#pano=100432J7150331222813400" />
	<target host="apis.map.qq.com" />
	<target host="open.map.qq.com" />
	<target host="pr.map.qq.com" />
	<target host="s.map.qq.com" />
	<target host="sv.map.qq.com" />
	<target host="wp.mail.qq.com" />
	<target host="ws.mail.qq.com" />
	<target host="music.qq.com" />
	<target host="pingfore.qq.com" />
	<target host="pingjs.qq.com" />
	<target host="ssl.ptlogin2.qq.com" />
	<target host="ui.ptlogin2.qq.com" />
	<target host="xui.ptlogin2.qq.com" />
	<target host="ssl.xui.ptlogin2.qq.com" />
	<target host="cgi.pub.qq.com" />
	<target host="qzs.qq.com" />
	<target host="qian.qq.com" />
	<target host="r.qq.com" />
	<target host="reader.qq.com" />
	<target host="file.service.qq.com" />
	<target host="support.qq.com" />
	<target host="open.t.qq.com" />
	<target host="tajs.qq.com" />
	<target host="v.qq.com" />
		<!--	Mixcontented but break nothing.	-->
		<exclusion pattern="^http://v\.qq\.com/(?!x/)" />
			<test url="http://v.qq.com/x/cover/jj0y3okpdfg82b3/z0021zgdwqa.html" />
			<test url="http://v.qq.com/x/cover/zf2z0xpqcculhcz/t001688s8yi.html" />
			<test url="http://v.qq.com/movie/" />
		<target host="c.v.qq.com" />
			<test url="http://c.v.qq.com/vuserinfo" />
	<target host="video.qq.com" />
		<exclusion pattern="^http://video\.qq\.com/(?!fcgi-bin/)" />
			<test url="http://video.qq.com/foo.bar" />
			<test url="http://video.qq.com/fcgi-bin/get_cookie" />
		<target host="btrace.video.qq.com" />
			<test url="http://btrace.video.qq.com/kvcollect" />
		<target host="data.video.qq.com" />
			<test url="http://data.video.qq.com/fcgi-bin/data" />
		<target host="like.video.qq.com" />
			<test url="http://like.video.qq.com/fcgi-bin/flw_new?otype=json" />
		<target host="sec.video.qq.com" />
		<target host="tj.video.qq.com" />
			<test url="http://tj.video.qq.com/fcgi-bin/set_cookie?otype=json" />
		<target host="vpic.video.qq.com" />
	<target host="weixin.qq.com" />
		<target host="api.weixin.qq.com" />
		<target host="login.weixin.qq.com" />
		<target host="mp.weixin.qq.com" />
		<target host="open.weixin.qq.com" />
		<target host="support.weixin.qq.com" />
		<target host="web.weixin.qq.com" />
		<target host="webpush.weixin.qq.com" />
	<target host="weixin110.qq.com" />
	<target host="wx.qq.com" />
		<target host="file.wx.qq.com" />
		<target host="login.wx.qq.com" />
		<target host="res.wx.qq.com" />
	<target host="wx1.qq.com" />
	<target host="wx2.qq.com" />
		<target host="file.wx2.qq.com" />
		<target host="login.wx2.qq.com" />
	<target host="jsqmt.qq.com" />
		<test url="http://jsqmt.qq.com/cdn_djl.js" />

	<securecookie host="^\w" name="." />

	<rule from="^http:" to="https:" />
</ruleset>
