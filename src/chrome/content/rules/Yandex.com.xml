
<!--
Disabled by https-everywhere-checker because:
Fetch error: http://bar.yandex.com/ => https://bar.yandex.com/: (28, 'Connection timed out after 20000 milliseconds')
Fetch error: http://clock.yandex.com/ => https://clock.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'clock.yandex.com'")
Fetch error: http://dev.yandex.com/ => https://dev.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'dev.yandex.com'")
Fetch error: http://browser.export.yandex.com/ => https://browser.export.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'browser.export.yandex.com'")
Fetch error: http://haber.yandex.com/ => https://haber.yandex.com/: (6, 'Could not resolve host: haber.yandex.com')
Fetch error: http://beta.maps.yandex.com/ => https://beta.maps.yandex.com/: (28, 'Connection timed out after 20001 milliseconds')
Fetch error: http://passport-ckicheck.yandex.com/ => https://passport-ckicheck.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'passport-ckicheck.yandex.com'")
Fetch error: http://pogoda.yandex.com/ => https://pogoda.yandex.com/: Too many redirects while fetching 'https://pogoda.yandex.com/'
Fetch error: http://www.pogoda.yandex.com/ => https://www.pogoda.yandex.com/: Too many redirects while fetching 'https://www.pogoda.yandex.com/'
Fetch error: http://api.rasp.yandex.com/ => https://api.rasp.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'api.rasp.yandex.com'")
Fetch error: http://suggests.rasp.yandex.com/ => https://suggests.rasp.yandex.com/: (51, "SSL: no alternative certificate subject name matches target host name 'suggests.rasp.yandex.com'")
Fetch error: http://weather.yandex.com/ => https://weather.yandex.com/: Too many redirects while fetching 'https://weather.yandex.com/'
Fetch error: http://www.weather.yandex.com/ => https://www.weather.yandex.com/: Too many redirects while fetching 'https://www.weather.yandex.com/'

	For other Yandex coverage, see Yandex.xml.


	Nonfunctional subdomains:

		- an ¹
		- bs ¹
		- bs-meta ¹
		- contact ¹
		- contact2 ¹
		- gazeta ¹
		- informer ¹
		- interactive-answers ²
		- m.internet ¹
		- islands ³
		- ir *
		- mc ¹

		- news ¹
		- m.news ¹
		- pda.news ¹

		- shad ⁵
		- (www.)?store ¹
		- wdgt ⁶
		- xmlsearch ⁵
		- yabs ¹

	¹ Dropped
	² 404
	³ Redirects to http
	* Shareholder
	⁵ Redirects to http
	⁶ 403


	Problematic subdomains:

		- www.browser ¹
		- downloader.disk ²
		- www.constructor.maps ³
		- (www.)?site ³
		- www.video ³

	¹ 404
	² Mixed css
	³ Mismatched


	Fully covered subdomains:

		- (www.)?
		- advertising
		- advq
		- analytics
		- api
		- autoconfig
		- autodiscover
		- b
		- ba
		- bar
		- (www.)?browser	(www → ^)
		- city
		- clck
		- clock
		- clocks
		- company
		- content

		- contest
		- algorithm.contest
		- intern.contest
		- official.contest
		- shad.contest

		- dev
		- direct
		- disc

		- disk
		- beta.disk
		- 1.downloader.disk

		- element
		- elements
		- expert
		- export
		- browser.export
		- feedback
		- m.feedback
		- feedback2
		- files
		- gorod
		- haber
		- help
		- images
		- internet
		- kiks
		- legal
		- m.legal
		- mail

		- (www.)?maps
		- beta.maps
		- (www.)?constructor.maps	(www → ^)
		- router-quality.maps

		- partner.market
		- (www.)?master
		- mbrowser
		- metric
		- metrica
		- metrika
		- myfiles
		- partner
		- partners
		- pass
		- passport
		- passport-ckicheck
		- pda-passport
		- (www.)?pogoda
		- prefetch-maps

		- api.rasp
		- m.rasp
		- suggests.rasp
		- t.rasp

		- research
		- (www.)?site	(→ site.yandex.ru)
		- startups
		- subs
		- taxi
		- m.taxi

		- (www.)?tech
		- api.tech

		- ticket
		- time
		- translate
		- tune
		- m.tune
		- (www.)?video		(www → ^)
		- vremya
		- watch
		- (www.)?weather
		- (www.)?webmaster
		- widgets
		- wordstat
		- xml


	These altnames don't exist:

		- m.feedback2.yandex.com
		- support.yandex.com


	Insecure cookies are set for these domains:

		- .yandex.com
		- .contest.yandex.com
		- feedback2.yandex.com
		- internet.yandex.com
		- mail.yandex.com
		- master.yandex.com
		- www.master.yandex.com
		- partner.market.yandex.com
		- tech.yandex.com
		- translate.yandex.com


	Mixed content:

		- iframe on company from www.youtube.com *

		- Flash on company from static.video.yandex.net *

		- css on downloader.disk from lego.static.yandex.net *

		- Images, on:

			- advertising, b, downloader.disk, export, m.legal from img.yandex.net *
			- b, export from awaps.yandex.ru *
			- contest from img-fotki.yandex.ru *
			- expert, m.feedback from yandex.st *

		- favicon on feedback2 from yandex.st *

		- Ads/bugs, on:

			- advq, ba, direct, wordstat, www from kiks.yandex.ru *
			- downloader.disk from clck.yandex.ru *

	* Secured by us

-->
<ruleset name="Yandex.com (partial)" default_off='failed ruleset test'>

	<!--	Direct rewrites:
				-->
	<target host="yandex.com" />
	<target host="advertising.yandex.com" />
	<target host="advq.yandex.com" />
	<target host="analytics.yandex.com" />
	<target host="api.yandex.com" />
	<target host="autoconfig.yandex.com" />
	<target host="autodiscover.yandex.com" />
	<target host="b.yandex.com" />
	<target host="ba.yandex.com" />
	<target host="bar.yandex.com" />
	<target host="browser.yandex.com" />
	<target host="city.yandex.com" />
	<target host="clck.yandex.com" />
	<target host="clock.yandex.com" />
	<target host="clocks.yandex.com" />
	<target host="company.yandex.com" />
	<target host="contest.yandex.com" />
	<target host="algorithm.contest.yandex.com" />
	<target host="intern.contest.yandex.com" />
	<target host="official.contest.yandex.com" />
	<target host="shad.contest.yandex.com" />
	<target host="dev.yandex.com" />
	<target host="direct.yandex.com" />
	<target host="disc.yandex.com" />
	<target host="disk.yandex.com" />
	<target host="beta.disk.yandex.com" />
	<target host="1.downloader.disk.yandex.com" />
	<target host="element.yandex.com" />
	<target host="elements.yandex.com" />
	<target host="expert.yandex.com" />
	<target host="export.yandex.com" />
	<target host="browser.export.yandex.com" />
	<target host="feedback.yandex.com" />
	<target host="m.feedback.yandex.com" />
	<target host="feedback2.yandex.com" />
	<target host="files.yandex.com" />
	<target host="gorod.yandex.com" />
	<target host="haber.yandex.com" />
	<target host="help.yandex.com" />
	<target host="images.yandex.com" />
	<target host="internet.yandex.com" />
	<target host="kiks.yandex.com" />
	<target host="legal.yandex.com" />
	<target host="m.legal.yandex.com" />
	<target host="mail.yandex.com" />
	<target host="maps.yandex.com" />
	<target host="beta.maps.yandex.com" />
	<target host="constructor.maps.yandex.com" />
	<target host="router-quality.maps.yandex.com" />
	<target host="www.maps.yandex.com" />
	<target host="partner.market.yandex.com" />
	<target host="metric.yandex.com" />
	<target host="metrica.yandex.com" />
	<target host="metrika.yandex.com" />
	<target host="myfiles.yandex.com" />
	<target host="partner.yandex.com" />
	<target host="partners.yandex.com" />
	<target host="pass.yandex.com" />
	<target host="passport-ckicheck.yandex.com" />
	<target host="pda-passport.yandex.com" />
	<target host="pogoda.yandex.com" />
	<target host="www.pogoda.yandex.com" />
	<target host="prefetch-maps.yandex.com" />
	<target host="api.rasp.yandex.com" />
	<target host="m.rasp.yandex.com" />
	<target host="suggests.rasp.yandex.com" />
	<target host="t.rasp.yandex.com" />
	<target host="subs.yandex.com" />
	<target host="taxi.yandex.com" />
	<target host="m.taxi.yandex.com" />
	<target host="tech.yandex.com" />
	<target host="api.tech.yandex.com" />
	<target host="ticket.yandex.com" />
	<target host="time.yandex.com" />
	<target host="translate.yandex.com" />
	<target host="tune.yandex.com" />
	<target host="m.tune.yandex.com" />
	<target host="video.yandex.com" />
	<target host="vremya.yandex.com" />
	<target host="watch.yandex.com" />
	<target host="weather.yandex.com" />
	<target host="www.weather.yandex.com" />
	<target host="webmaster.yandex.com" />
	<target host="widgets.yandex.com" />
	<target host="wordstat.yandex.com" />
	<target host="www.yandex.com" />
	<target host="xml.yandex.com" />

	<!--	Special cases:
				-->
	<target host="www.browser.yandex.com" />
	<target host="www.constructor.maps.yandex.com" />
	<target host="site.yandex.com" />
	<target host="www.site.yandex.com" />
	<target host="www.video.yandex.com" />
	<target host="www.webmaster.yandex.com" />

		<!--
			Redirects to http:
						-->
		<!--exclusion pattern="^http://shad\.yandex\.com/$" /-->


	<!--	Not secured by server:
					-->
	<!--securecookie host="^\.yandex\.com$" name="^yandexuid$" /-->
	<!--securecookie host="^\.contest\.yandex\.com$" name="^CONTEST_LANG$" /-->
	<!--securecookie host="^feedback2\.yandex\.com$" name="^feedback2-sid$" /-->
	<!--securecookie host="^internet\.yandex\.com$" name="^(csrftoken|test)$" /-->
	<!--securecookie host="^mail\.yandex\.com$" name="^ni$" /-->
	<!--securecookie host="^(master|www\.master|partner)\.market\.yandex\.com$" name="^uid$" /-->
	<!--securecookie host="^tech\.yandex\.com$" name="^session$" /-->
	<!--securecookie host="^translate\.yandex\.com$" name="^(first_visit_src|stoken)$" /-->

	<securecookie host="^(?:\.contest|feedback2|mail|partner\.market|master|www\.master|partner|tech|translate)\.yandex\.com$" name=".+" />


	<!--	Domains for which both !www and www
		exist, but only !www works without caveat:
								-->
	<rule from="^http://www\.(browser|constructor\.maps|video|webmaster)\.yandex\.com/"
		to="https://$1.yandex.com/" />

	<!--	Redirect drops path and args:
						-->
	<!--rule from="^http://gazeta\.yandex\.com/.*"
		to="https://news.yandex.com/mynews" /-->

	<!--	Redirect drops path but not args:
							-->
	<rule from="^http://(?:www\.)?site\.yandex\.com/[^?]*"
		to="https://site.yandex.ru/" />

		<test url="http://site.yandex.com/searches/" />
		<test url="http://site.yandex.com/themes/" />

	<rule from="^http:"
		to="https:" />

</ruleset>
