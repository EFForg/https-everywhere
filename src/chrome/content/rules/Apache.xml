<!--
	For rules causing false/broken MCB, see Apache.org-falsemixed.xml.


	Other Apache rulesets:

		- ApacheCon.com.xml
		- Apache-OpenOffice.xml
		- Apache-SSL.org.xml


	Nonfunctional subdomains:

		- ci ¹
		- feathercast ¹
		- git ²
		- ooo-forums ²
		- vmgump ¹

	¹ Refused
	² Dropped


	Problematic subdomains:

		- ^ ¹
		- activemq ²
		- aries ²
		- attic ²
		- geronimo ²
		- jackrabbit ²
		- lucy ²
		- oodt ²
		- santuario ²
		- tuscany ²

	¹ Cert only matches *.apache.org
	² Mixed css


	Partially covered subdomains:

		- activemq *
		- aries *
		- attic *
		- geronimo *
		- helix *
		- jackrabbit *
		- lucy *
		- oodt *
		- santuario *
		- tuscany *

	* Avoiding false/broken MCB


	Fully covered domains:

		- (www.)apache.org	(^ → www)

		- *.apache.org:

			- accumulo
			- abdera
			- ace
			- airavata
			- allura
			- ambari
			- analysis
			- ant
			- any23
			- apr
			- archiva
			- archive
			- avro
			- axis
			- bigtop
			- blogs
			- bloodhound
			- buildr
			- builds
			- bval
			- camel
			- cassandra
			- cayenne
			- chemistry
			- chukwa
			- clerezza
			- climate
			- cloudstack
			- cocoon
			- comments
			- commons
			- community
			- continuum
			- couchdb
			- creadur
			- crunch
			- ctakes
			- curator
			- cwiki
			- cxf
			- db
			- deltacloud
			- directmemory
			- directory
			- drill
			- empire-db
			- etch
			- felix
			- flex
			- flume
			- forge-allura
			- forrest
			- giraph
			- git-wip-us
			- gora
			- gump
			- hadoop
			- hama
			- hbase
			- hc
			- hive
			- httpd
			- incubator
			- spark.incubator
			- tez.incubator
			- isis
			- issues
			- jakarta
			- james
			- jclouds
			- jena
			- jmeter
			- jspwiki
			- jspwiki-wiki
			- juddi
			- kafka
			- knox
			- labs
			- lenya
			- libcloud
			- logging
			- lucene
			- lucenenet
			- mahout
			- mail-archives
			- manifoldcf
			- marmotta
			- maven
			- mesos
			- mina
			- mrunit
			- myfaces
			- nutch
			- ode
			- ofbiz
			- olingo
			- oltu
			- onami
			- oozie
			- openjpa
			- openmeetings
			- opennlp
			- openoffice
			- openwebbeans
			- pdfbox
			- people
			- perl
			- pig
			- pivot
			- poi
			- portals
			- qpid
			- rave
			- reviews
			- river
			- roller
			- s
			- servicemix
			- shindig
			- shiro
			- sis
			- sling
			- spamassassin
			- spark
			- sqoop
			- stanbol
			- steve
			- struts
			- svn
			- subversion
			- synapse
			- syncope
			- tajo
			- tapestry
			- tcl
			- tez
			- thrift
			- tika
			- tiles
			- tomcat
			- tomee
			- trafficserver
			- turbine
			- uima
			- vcl
			- velocity
			- vxquery
			- whirr
			- wicket
			- wiki
			- wink
			- wookie
			- ws
			- xalan
			- xerces
			- xml
			- xmlbeans
			- xmlgraphics
			- zookeeper


	Mixed content:

		- iframes, on:

			- archiva, shiro, and tomee from www.youtube.com ¹
			- gora and nutch from prezi.com ¹
			- gora from www.slideshare.net ¹

		- css, on:

			- activemq from $self ¹
			- aries from $self ¹
			- attic from $self ¹
			- creadur, drill, kafka, marmotta, synapse, and trafficserver from fonts.googleapis.com ¹
			- geronimo from $self ¹
			- helix from netdna.bootstrapcdn.com ¹
			- jackrabbit from $self ¹
			- lucy from $self ¹
			- oodt from $self ¹
			- santuario from cxf ¹
			- sis and xmlgraphics from www ¹
			- tuscany from $self ¹

		- Images, on:

			- ant, any23, bigtop, bloodhound, commons, continuum, creadur, ctakes, flex, forrest, gump, hc, lenya, nutch, oltu, oozie, openwebbeans, projects, shindig, sqoop, trafficserver, whir, www, and xerces from www ¹
			- archiva from $self ¹
			- aries from $self ¹
			- blogs from people ¹
			- builds and sling from incubator ¹
			- camel from $self ¹
			- commons, hc, and tajo from maven ¹
			- crunch from hadoop ¹
			- curator and tajo from ^ ¹
			- cxf from $self ¹
			- geronimo from $self ¹
			- jackrabbit from $self ¹
			- karaf from $self ¹
			- knox from $self ¹
			- lucy from $self ¹
			- mahout from $self ¹
			- oodt from $self ¹
			- openoffice from www.openoffice.org ¹
			- santuario from activemq ¹
			- tajo from maven ¹
			- tapestry from $self ¹
			- tika from $self ¹
			- tiles from struts ¹
			- tuscany from $self ¹

		- favicon on mahout from $self ¹

		- Ads/bugs, on:

			- archiva, bigtop, buildr, directmemory, giraph, onami, oozie, openwebbeans, sqoop, tajo, and ws from www.google.com ¹
			- bloodhound from ghbtns.com ²
			- buildr from www.jetbrains.com ¹
			- cayenne from $self ¹
			- geronimo from static.delicious.com
			- geronimo from digg.com ¹
			- gora from www.datastax.com ²
			- nutch from apachecon.com ³
			- nutch from typo3.org ¹
			- ofbiz from go.linuxfoundation.org ¹
			- openwebbeans from twitter.github.com ¹
			- tuscany from www.google-analytics.com ¹
			- tuscany from c26.statcounter.com ¹

	¹ Secured by us
	² Unsecurable <= refused
	³ Not secured by us <= mismatched

-->
<ruleset name="Apache.com (partial)">
  <target host="apache.org" />
  <target host="*.apache.org" />
		<exclusion pattern="^http://(?:ci|feathercast|vmgump)\.apache\.org/" />
		<!--
			Avoid false/broken MCB:
						-->
		<!--exclusion pattern="^http://(activemq|attic|jackrabbit)\.apache\.org/+(?!favicon\.ico|style/)" /-->
		<!--exclusion pattern="^http://aries\.apache\.org/+(?!favicon\.ico|images/|resources/)" /-->
		<!--exclusion pattern="^http://geronimo\.apache\.org/+(?!favicon\.ico|images/|style/)" /-->
		<!--exclusion pattern="^http://(helix|lucy)\.apache\.org/+(?!css/|favicon\.ico|images/)" /-->
		<!--exclusion pattern="^http://oodt\.apache\.org/+(?!favicon\.ico|images/|oodt\.css)" /-->
		<!--exclusion pattern="^http://santuario\.apache\.org/+(?!favicon\.ico)" /-->
		<!--exclusion pattern="^http://tuscany\.apache\.org/+(?!favicon\.ico|images/|stylesheets/)" /-->
		<!--
			In sum:
				-->
		<exclusion pattern="^http://(?:activemq|aries|attic|geronimo|helix|jackrabbit|lucy|oodt|santuario|tuscany)\.apache\.org/+(?!css/|favicon\.ico|images/|oodt\.css|style/|stylesheets/)" />

	<!--	Not secured by server:
					-->
	<!--securecookie host="^(analysis|builds|cwiki|jspwiki-wiki)\.apache\.org$" name="^JSESSIONID$" /-->

  <securecookie host="^(?:.+\.)?apache\.org$" name=".*"/>

  <exclusion pattern="^http://ooo-forums\.apache\.org/" />
  <exclusion pattern="^http://git\.apache\.org/" />

  <rule from="^http://(?:www\.)?apache\.org/" to="https://www.apache.org/"/>
  <rule from="^http://([^/:@]+)?\.apache\.org/" to="https://$1.apache.org/"/>
</ruleset>
